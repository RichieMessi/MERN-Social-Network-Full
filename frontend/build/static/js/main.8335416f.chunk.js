(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/umbrella.7076a5ce.jpg"},17:function(e,t,a){e.exports=a.p+"static/media/noImage.76289f24.jpg"},21:function(e,t,a){e.exports=a.p+"static/media/pen.c51fdd12.jpg"},32:function(e,t,a){e.exports=a(52)},37:function(e,t,a){},38:function(e,t,a){},50:function(e,t,a){e.exports=a.p+"static/media/demoPostImage.7aba92de.png"},51:function(e,t,a){e.exports=a.p+"static/media/trollfaceeditted.8af9b511.png"},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),s=a.n(c),l=(a(37),a(38),a(2)),o=a(3),i=a(5),m=a(4),d=a(6),u=a(1),h=a(14);a(39).config();var p=function(e){return fetch("".concat("http://178.128.234.170/api","/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},E=function(e){return fetch("".concat("http://178.128.234.170/api","/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},f=function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),setTimeout(function(){t()},3e3))},g=function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),e(),fetch("".concat("http://178.128.234.170/api","/signout"),{method:"GET"}).then(function(e){return console.warn(e),e.json()}).catch(function(e){return console.warn(e)})},b=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},v=a(8),N=a.n(v),w=function(e,t){return e.location.pathname===t?{color:"#ff9900"}:{color:"#ffffff"}},y=Object(h.f)(function(e){var t=e.history;return r.a.createElement("div",{className:""},r.a.createElement("nav",{className:"z-depth-0 grey darken-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("span",{style:{cursor:"pointer"},"data-target":"mobile-demo",className:"sidenav-trigger show-on-small"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-med-and-down"},r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(u.b,{className:"nav-link",style:w(t,"/"),to:"/"},"Posts")),r.a.createElement("li",null,r.a.createElement(u.b,{className:"nav-link",style:w(t,"/users"),to:"/users"},"Users"))),b()?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(u.b,{style:w(t,"/post/create"),to:"/post/create"},"Create Post")),r.a.createElement("li",{className:"nav-link"},r.a.createElement(u.b,{className:"btn-floating amber darken-3 pulse",to:"/user/".concat(b().user._id)},r.a.createElement("i",{className:"material-icons"},"person"))),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/user/".concat(b().user._id)},r.a.createElement("span",{style:{color:"orange"}},b().user.name,"'s profile"))),r.a.createElement("li",{className:"nav-link"},r.a.createElement(u.b,{to:"/signin"},r.a.createElement("span",{onClick:function(){return g(function(){return t.push("/")})}},"Sign Out")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(u.b,{className:"nav-link",style:w(t,"/signin"),to:"/signin"},"Sign In")),r.a.createElement("li",null,r.a.createElement(u.b,{className:"nav-link",style:w(t,"/signup"),to:"/signup"},"Sign Up"))))))),r.a.createElement("ul",{className:"sidenav fixed",id:"mobile-demo"},r.a.createElement("div",{className:"user-view"},r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:N.a,alt:"",className:"circle center-align"})),r.a.createElement("div",{className:"background amber darken-3"},r.a.createElement("img",{src:"./img/ship_bottle.jpg",alt:""})),r.a.createElement("a",{href:"#!"},r.a.createElement("span",{className:"name white-text"},"John Doe")),r.a.createElement("a",{href:"#!"},r.a.createElement("span",{className:"email white-text"},"JDoe@gmail.com")),r.a.createElement("li",{className:"active"},r.a.createElement("a",{href:"/"},r.a.createElement("i",{className:"material-icons"},"dashboard"),"Dashboard")),r.a.createElement("li",null,r.a.createElement("div",{className:"divider"})),r.a.createElement("li",{className:""},r.a.createElement("a",{href:"./posts.html"},r.a.createElement("i",{className:"material-icons"},"local_post_office")," Posts")),r.a.createElement("li",{className:""},r.a.createElement("a",{href:"./categories.html"},r.a.createElement("i",{className:"material-icons"},"category"),"Categories")),r.a.createElement("li",{className:""},r.a.createElement("a",{href:"./comments.html"},r.a.createElement("i",{className:"material-icons"},"comment"),"Comments")),r.a.createElement("li",{className:""},r.a.createElement("a",{href:"./users.html"},r.a.createElement("i",{className:"material-icons"},"face"),"Users")),r.a.createElement("li",null,r.a.createElement("div",{href:"#!",className:"divider"})),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"subheader"},"Account Controls")),r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons"},"logout"),"Logout")))))}),j=function(e,t,a){return fetch("".concat("http://178.128.234.170/api","/post/new/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},k=function(e,t){return fetch("".concat("http://178.128.234.170/api","/post/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},S=function(e,t,a){return fetch("".concat("http://178.128.234.170/api","/post/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},x=function(e,t){return fetch("".concat("http://178.128.234.170/api","/post/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},O=function(e,t,a){return fetch("".concat("http://178.128.234.170/api","/post/like"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a})}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},C=function(e,t,a){return fetch("".concat("http://178.128.234.170/api","/post/unlike"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a})}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},T=function(e,t,a,n){return console.warn(n),fetch("".concat("http://178.128.234.170/api","/post/comment"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a,comment:n})}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},D=function(e,t,a,n){return console.warn("UNCOMENT RAN"),console.warn(e,t,a,n),fetch("".concat("http://178.128.234.170/api","/post/uncomment"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a,comment:n})}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},z=a(21),_=a.n(z),P=a(15),I=a.n(P),B=a(17),A=a.n(B),L=function(e){var t=e.posts;return console.warn(e),r.a.createElement("div",{className:"col s12 m7"},function(e){return e.map(function(e){return e._id?"".concat("http://178.128.234.170/api","/post/photo/").concat(e._id,"?").concat((new Date).getTime()):_.a,r.a.createElement("div",{className:"",key:e._id},r.a.createElement("div",{className:"card horizontal"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:"".concat("http://178.128.234.170/api","/post/photo/").concat(e._id),onError:function(e){return e.target.src="".concat(A.a)}})),r.a.createElement("div",{className:"card-stacked"},r.a.createElement("div",{className:"card-content"},e.postedBy?r.a.createElement(u.b,{to:"/user/".concat(e.postedBy._id)},r.a.createElement("img",{className:"responsive-img right circle left userListPhoto",width:"35",src:"".concat("http://178.128.234.170/api","/user/photo/").concat(e.postedBy._id),alt:""})):"USER DELETED",r.a.createElement("h6",{className:"amber-text lead"},e.title),e.postedBy?r.a.createElement(u.b,{to:"/user/".concat(e.postedBy._id)},r.a.createElement("span",{style:{fontSize:"0.7rem"},className:"left grey-text chip "},"Posted By ".concat(e.postedBy.name)),r.a.createElement("br",null)):"USER DELETED",r.a.createElement("span",{style:{fontSize:"0.7rem"},className:"right  grey-text"},"".concat(new Date(e.created).toDateString()))),r.a.createElement("div",{className:"card-action"},r.a.createElement(u.b,{to:"/post/".concat(e._id)},r.a.createElement("div",{className:"chip boo amber-text text-darken-2 left"},r.a.createElement("i",{className:"material-icons  amber-text tiny right foo"},"arrow_upward"),r.a.createElement("span",{href:"#",className:" "},"Read More")))))))})}(t))},U=(a(50),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={posts:[],userPhoto:[],error:[]},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("http://178.128.234.170/api"),{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)}).then(function(t){t.error?console.log(t.error):e.setState({posts:t})})}},{key:"render",value:function(){this.state.posts;return r.a.createElement("div",{className:"col s6"},r.a.createElement("div",{className:"row"},r.a.createElement(L,{posts:this.state.posts})))}}]),t}(n.Component)),F=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(U,null))},M=a(7),J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:"",error:"",redirect:!1,open:!1,loading:!1},a.handleChange=function(e){a.setState({error:""}),a.setState(Object(M.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){a.setState({loading:!0}),e.preventDefault();var t=a.state,n={name:t.name,email:t.email,password:t.password};a.state.error||p(n).then(function(e){e.error?a.setState({error:e.error}):setTimeout(function(){a.setState({name:"",email:"",password:"",error:"",open:!0,loading:!0}),a.setState({loading:!1,redirect:!0}),a.state.open&&(window.M.toast({html:"New User Created",displayLength:4e3}),window.M.toast({html:"Please Sign In",displayLength:4e3}))},2e3)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(h.a,{to:"/signin"});var e=this.state.loading;return r.a.createElement("div",null,e?r.a.createElement("div",{className:"progress loadingBar white"},r.a.createElement("div",{className:"indeterminate "})):" ",r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s7"},r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"card grey lighten-5 z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"red-text"},this.state.error),r.a.createElement("form",{onSubmit:this.handleSubmit,className:" "},r.a.createElement("h4",{className:"amber-text"},"Sign Up"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.handleChange,value:this.state.name,name:"name",id:"name",type:"text"}),r.a.createElement("label",{htmlFor:"name"},"Name"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.handleChange,value:this.state.email,name:"email",id:"email",type:"email"}),r.a.createElement("label",{htmlFor:"email"},"Email"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.handleChange,value:this.state.password,name:"password",id:"password",type:"password"}),r.a.createElement("label",{htmlFor:"password"},"Password"))),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn amber z-depth-0"}))))))))}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:"",redirect:!1,loading:!1},a.handleChange=function(e){a.setState({error:""}),a.setState(Object(M.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password};return""==a.state.email?(a.setState({error:"Email must not be blank",laoding:!1}),!1):""==a.state.password?(a.setState({error:"Password must not be blank",loading:!1}),!1):void E(n).then(function(e){e.error?a.setState({error:e.error,loading:!1}):(a.setState({loading:!0}),setTimeout(function(){f(e,function(){a.setState({redirect:!0})})},2e3))})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){if(this.state.redirect)return window.M.toast({html:"Sign In Successful",displayLength:4e3}),r.a.createElement(h.a,{to:"/user/".concat(b().user._id)});var e=this.state.loading;return console.warn(e),r.a.createElement("div",null,b()?r.a.createElement(h.a,{to:"/"}):null,e?r.a.createElement("div",{className:"progress loadingBar "},r.a.createElement("div",{className:"indeterminate"})):" ",r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s7"},r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"card grey lighten-5 z-depth-0 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:""},r.a.createElement("h4",{className:"amber-text"},"Sign In"),this.state.error?r.a.createElement("p",{className:"red-text"},this.state.error):null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.handleChange,value:this.state.email,name:"email",id:"email",type:"email"}),r.a.createElement("label",{htmlFor:"email"},"Email"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.handleChange,value:this.state.password,name:"password",id:"password",type:"password"}),r.a.createElement("label",{htmlFor:"password"},"Password"))),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn amber z-depth-0"}))))))))))}}]),t}(n.Component),G=function(e,t){return fetch("".concat("http://178.128.234.170/api","/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},V=function(e,t){return fetch("".concat("http://178.128.234.170/api","/user/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},W=function(e,t,a){return fetch("".concat("http://178.128.234.170/api","/user/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},q=function(e,t){if("undefined"!==typeof window&&localStorage.getItem("jwt")){var a=JSON.parse(localStorage.getItem("jwt"));a.user=e,localStorage.setItem("jwt",JSON.stringify(a)),t()}},H=function(e,t,a){return console.warn(e,a),console.warn(JSON.stringify(e,a)),console.warn("".concat("http://178.128.234.170/api")),fetch("".concat("http://178.128.234.170/api","/user/follow"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,followId:a})}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},K=function(e,t,a){return console.warn("================================"),console.warn(a),console.warn("================================"),fetch("".concat("http://178.128.234.170/api","/user/unfollow"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,unfollowId:a})}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},Q=function(e,t){return fetch("".concat("http://178.128.234.170/api","/posts/by/").concat(e),{methods:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})},X=(a(51),a(18)),Y=a.n(X),Z=(a(27),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1},a.handleDelete=function(){var e=b().token,t=a.props.userId;console.warn(t),V(t,e).then(function(e){e.error?console.warn(e.error):(g(function(){return console.warn("User ".concat(t," DELETED"))}),a.setState({redirect:!0}))})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){Y.a.Modal.init(this.Modal,{inDuration:250,outDuration:250,opacity:.5,dismissible:!0,startingTop:"4%",endingTop:"10%"})}},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(h.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("div",{className:"chip hoverColor modal-trigger","data-target":"modal1"},r.a.createElement("span",{href:"#",className:"amber-text text-darken-2 "}," Delete"),r.a.createElement("i",{className:"material-icons  amber-text tiny right foo"},"close")),r.a.createElement("div",{ref:function(t){e.Modal=t},id:"modal1",className:"modal  background-modal-light-karo"},r.a.createElement("div",{className:"modal-content  background-light-karo"},r.a.createElement("h4",{className:"white-text"},"Deleting Profile"),r.a.createElement("p",{className:"white-text"},"Are you sure?")),r.a.createElement("div",{className:"modal-footer  background-light-karo"},r.a.createElement("span",{className:"modal-close btn-floating grey "},r.a.createElement("i",{className:"material-icons"},"close")),r.a.createElement("span",{className:"modal-close btn-floating amber",onClick:this.handleDelete},r.a.createElement("i",{className:"material-icons"},"done")))))}}]),t}(n.Component)),$=(n.Component,function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).followClick=function(){console.warn(a.props),a.props.onButtonClicked(H)},a.unfollowClick=function(){a.props.onButtonClicked(K)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.following?r.a.createElement("div",{className:"chip  grey lighten-2 hoverColor",onClick:this.unfollowClick},r.a.createElement("span",{href:"#",className:"orange-text text-darken-2 "}," Unfollow"),r.a.createElement("i",{className:"material-icons  orange-text tiny right foo"},"person_add_disabled")):r.a.createElement("div",{className:"chip  grey lighten-2 hoverColor",onClick:this.followClick},r.a.createElement("span",{href:"#",className:"orange-text text-darken-2 "}," Follow"),r.a.createElement("i",{className:"material-icons  orange-text tiny right foo"},"person_add")))}}]),t}(n.Component)),ee=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"collections "},r.a.createElement("ul",{className:"collection with-header "},r.a.createElement("li",{className:"collection-header "},r.a.createElement("h5",{className:"amber-text background-light-karoo"},"Following")),this.props.followingList?this.props.followingList.map(function(e,t){return r.a.createElement(u.b,{className:"amber-text",to:"/user/".concat(e._id),key:t},r.a.createElement("li",{className:"collection-item avatar",style:{paddingLeft:"1.5rem"}},r.a.createElement("img",{style:{borderRadius:"50%"},className:"responsive-img left",width:"40",onError:function(e){return e.target.src="".concat(N.a)},src:"".concat("http://178.128.234.170/api","/user/photo/").concat(e._id),alt:""}),r.a.createElement("span",Object(M.a)({className:"amber-text",style:{paddingLeft:"1rem"}},"className","title"),e.name),r.a.createElement("span",{href:"",className:"secondary-content  btn-floating  z-depth-0"},r.a.createElement("i",{className:"material-icons grey lighten-3 amber-text text-darken-2  "},"visibility"))))}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"red-text"},"Loading............")))))}}]),t}(n.Component),te=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"collections grey lighten-1"},r.a.createElement("ul",{className:"collection with-header  grey lighten-1"},r.a.createElement("li",{className:"collection-header"},r.a.createElement("h5",{className:"amber-text"},"Followers")),this.props.followersList?this.props.followersList.map(function(e,t){return r.a.createElement(u.b,{to:"/user/".concat(e._id),className:"amber-text",key:t},r.a.createElement("li",{className:"collection-item avatar",style:{paddingLeft:"1.5rem"}},r.a.createElement("img",{style:{borderRadius:"50%"},className:"responsive-img left",width:"40",onError:function(e){return e.target.src="".concat(N.a)},src:"".concat("http://178.128.234.170/api","/user/photo/").concat(e._id),alt:""}),r.a.createElement("span",{style:{paddingLeft:"1rem"},className:"title"},e.name),r.a.createElement("span",{href:"",className:"secondary-content  btn-floating  z-depth-0"},r.a.createElement("i",{className:"material-icons grey lighten-3 amber-text text-darken-2  "},"visibility"))))}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"red-text"},"Loading............")),r.a.createElement("li",{className:"collection-item"}))))}}]),t}(n.Component),ae=function(e){var t=e.posts;console.warn(t);return r.a.createElement("div",null,r.a.createElement("div",{className:"collections"},r.a.createElement("ul",{className:"collection with-header "},r.a.createElement("li",{className:"collection-header "},r.a.createElement("h5",{className:"amber-text background-light-karoo"},"Posts")),function(e){return e.map(function(e){return r.a.createElement(u.b,{to:"/post/".concat(e._id),className:"amber-text",key:e._id},r.a.createElement("li",{className:"collection-item avatar",style:{paddingLeft:"1.5rem"}},r.a.createElement("img",{style:{borderRadius:"50%"},className:"responsive-img left",width:"40",onError:function(e){return e.target.src="".concat(I.a)},src:"".concat("http://178.128.234.170/api","/post/photo/").concat(e._id),alt:""}),r.a.createElement("span",{style:{paddingLeft:"1rem"},className:"title"},e.title),r.a.createElement("span",{href:"",className:"secondary-content  btn-floating  z-depth-0"},r.a.createElement("i",{className:"material-icons grey lighten-3 amber-text text-darken-2  "},"visibility"))))})}(t))))},ne=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).checkFollow=function(e){var t=b();return e.followers.find(function(e){return e._id===t.user._id})},e.clickFollowButton=function(t){t(b().user._id,b().token,e.state.user._id).then(function(t){t.error?e.setState({error:t.error}):e.setState({user:t,followingState:!e.state.followingState})})},e.init=function(t){var a=b().token;G(t,a).then(function(t){if(t.error)e.setState(function(e,t){return{redirectToSignIn:!0}});else{var a=e.checkFollow(t);e.loadPosts(t._id),e.setState({user:t,followingState:a})}})},e.loadPosts=function(t){var a=b().token;Q(t,a).then(function(t){t.error?e.setState({erro:t.error}):e.setState({posts:t})})},e.state={user:{following:[],followers:[]},redirectToSignIn:!1,followingState:!1,error:"",posts:[]},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.init(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.userId;this.init(t)}},{key:"render",value:function(){var e=this.props.match.params.userId,t=this.state.redirectToSignIn;if(console.warn(this.state),t)return r.a.createElement(h.a,{to:"/signin"});var a=e?"".concat("http://178.128.234.170/api","/user/photo/").concat(e,"?").concat((new Date).getTime()):N.a;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card background-light-karo cancel-margin-bottom  z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"containerr"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s6"},r.a.createElement("img",{src:a,className:"responsive-img meriphoto",onError:function(e){return e.target.src="".concat(N.a)}})),r.a.createElement("div",{className:"col s5"},r.a.createElement("div",{className:"card background-light-karo z-depth-0"},r.a.createElement("div",{className:"card-content background-light-karo"},r.a.createElement("p",{className:" z-depth-0 lighten-4 amber-text text-darken-2 "},"User - ",this.state.user.name),r.a.createElement("p",{className:" z-depth-0 lighten-4 amber-text text-darken-2"},"Email - ",this.state.user.email),r.a.createElement("p",{className:" z-depth-0 lighten-4 amber-text text-darken-2"},"Joined - ","".concat(new Date(this.state.user.created_at).toDateString())),b().user&&b().user._id===this.state.user._id?r.a.createElement("div",{className:"card-content"},r.a.createElement(u.b,{to:"/user/edit/".concat(e)},r.a.createElement("div",{className:"chip hoverColor left"},r.a.createElement("span",{href:"#",className:"amber-text text-darken-2 "}," Edit"),r.a.createElement("i",{className:"material-icons  amber-text tiny right foo"},"edit"))),r.a.createElement(Z,{userId:this.state.user._id})):r.a.createElement($,{following:this.state.followingState,onButtonClicked:this.clickFollowButton})))))),r.a.createElement("hr",{className:"amber-text"}),r.a.createElement("p",{className:"orange-text"},this.state.user.bio))),r.a.createElement("div",{className:"card z-depth-0  background-light-karo cancel-margin-top"})),r.a.createElement("div",{className:"col s4 offset-s2"},r.a.createElement("div",{className:"card background-light-karo z-depth-0"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m4"},r.a.createElement(ae,{posts:this.state.posts})),r.a.createElement("div",{className:"col s12 m4"},r.a.createElement(te,{followersList:this.state.user.followers})),r.a.createElement("div",{className:"col s12 m4"},r.a.createElement(ee,{followingList:this.state.user.following})))))))}}]),t}(n.Component),re=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).renderUsers=function(e){return e.map(function(e){e._id?"".concat("http://178.128.234.170/api","/user/photo/").concat(e._id,"?").concat((new Date).getTime()):N.a;return r.a.createElement("div",{key:e._id},r.a.createElement(u.b,{to:"/user/".concat(e._id)},r.a.createElement("div",{className:"card z-depth-0 grey lighten-5"},r.a.createElement("div",{className:"card-content"},r.a.createElement("img",{className:"responsive-img circle right userListPhoto",width:"40",src:"".concat("http://178.128.234.170/api","/user/photo/").concat(e._id),onError:function(e){return e.target.src="".concat(N.a)}}),r.a.createElement("h5",{className:"amber-text"}," ",e.name),r.a.createElement("br",null),r.a.createElement("div",{className:"chip boo amber-text text-darken-2"},r.a.createElement("i",{className:"material-icons  amber-text tiny right foo"},"person"),r.a.createElement("span",{href:"#",className:" "},"View Profile"))))))})},e.state={users:[],userPhoto:[],error:[]},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("http://178.128.234.170/api","/users"),{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)}).then(function(t){t.error?console.log(t.error):e.setState({users:t})})}},{key:"render",value:function(){var e=this.state.users;return console.warn(e),r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s5"},this.renderUsers(e))),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(n.Component),ce=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).init=function(t){var a=b().token;G(t,a).then(function(t){return e.setState({redirectToProfile:!0})})},e.handleChange=function(t){return function(a){var n;e.setState({error:""});var r="photo"===t?a.target.files[0]:a.target.value,c="photo"===t?a.target.files[0].size:0;e.userData.set(t,r),e.setState((n={},Object(M.a)(n,t,r),Object(M.a)(n,"fileSize",c),n))}},e.handleSubmit=function(t){e.setState({loading:!0,error:""}),t.preventDefault();var a=e.state;a.name,a.email,a.bio;console.warn(e.state),W(e.userId,b().token,e.userData).then(function(t){t.error?(e.setState({error:t.error}),console.warn(e.state.error)):q(t,function(){setTimeout(function(){e.setState({name:"",email:"",password:"",bio:"",error:"",open:!0}),e.setState({loading:!1,redirectToProfile:!0}),e.state.open&&window.M.toast({html:"Profile Updated",displayLength:4e3})},2e3)})})},e.state={name:"",email:"",password:"",bio:"",error:"",redirectToProfile:!1,open:!1,loading:!1,fileSize:0},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.warn(this.props),this.userData=new FormData,this.userId=this.props.match.params.userId,G(this.userId,b().token).then(function(t){e.setState({name:t.name,email:t.email,bio:t.bio})})}},{key:"render",value:function(){var e=this.state.loading;if(this.state.redirectToProfile)return r.a.createElement(h.a,{to:"/user/".concat(this.props.match.params.userId)});var t=this.props.match.params.userId,a=t?"".concat("http://178.128.234.170/api","/user/photo/").concat(t,"?").concat((new Date).getTime()):N.a;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},e?r.a.createElement("div",{className:"progress loadingBar "},r.a.createElement("div",{className:"indeterminate "})):" ",r.a.createElement("div",{className:"col s7"},r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"card grey lighten-5 z-depth-0"},r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{src:a,className:"responsive-img meriphoto",width:"",alt:this.state.name})),r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:" "},r.a.createElement("h4",{className:"amber-text"},"Edit Profile"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"file",className:"",onChange:this.handleChange("photo"),accept:"image/*",name:"photo",id:"photo"}),this.state.fileSize>1e5?r.a.createElement("div",{className:"red-text"},"File Size should be less than 100kb"):null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("div",{className:"amber-text"},"Name"),r.a.createElement("input",{placeholder:this.state.name,onChange:this.handleChange("name"),value:this.state.name,name:"name",id:"name",type:"text"}),""===this.state.name&&this.state.error?r.a.createElement("div",{className:"red-text"},"Name cannot be empty"):null)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("div",{className:"amber-text"},"Email"),r.a.createElement("input",{onChange:this.handleChange("email"),placeholder:this.state.email,value:this.state.email,name:"email",type:"email",id:"email"}),""===this.state.email&&this.state.error?r.a.createElement("div",{className:"red-text"},this.state.error):null)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"amber-text"},"TextArea"),r.a.createElement("textarea",{onChange:this.handleChange("bio"),id:"bio",value:this.state.bio,className:"materialize-textarea"},this.state.bio))),r.a.createElement("input",{type:"submit",value:"Update",className:"btn amber z-depth-0"}))))))))}}]),t}(n.Component),se=function(e){function t(){var e,a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(e){return function(t){var n;a.setState({error:""});var r="photo"===e?t.target.files[0]:t.target.value,c="photo"===e?t.target.files[0].size:0;a.postData.set(e,r),a.setState((n={},Object(M.a)(n,e,r),Object(M.a)(n,"fileSize",c),n))}},a.handleSubmit=function(e){a.setState({loading:!0,error:""}),e.preventDefault();var t=a.state;t.name,t.email,t.bio;j(a.state.user._id,b().token,a.postData).then(function(e){e.error?a.setState({error:e.error}):(console.warn(a.state),setTimeout(function(){a.setState({title:"",body:"",photo:"",error:"",user:{},fileSize:0,loading:!1,redirectToProfile:!0,open:!0}),a.state.open&&window.M.toast({html:"Post Uploaded",displayLength:4e3})},2e3))})},a.state=(e={title:"",body:"",photo:"",error:""},Object(M.a)(e,"error",""),Object(M.a)(e,"user",{}),Object(M.a)(e,"open",!1),Object(M.a)(e,"redirectToProfile",!1),Object(M.a)(e,"loading",!1),Object(M.a)(e,"fileSize",0),e),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.postData=new FormData,this.setState({user:b().user})}},{key:"render",value:function(){var e=this.state,t=(e.name,e.email,e.redirectToProfile),a=this.state.loading;return t?r.a.createElement(h.a,{to:"/user/".concat(b().user._id)}):(this.state.redirectToProfile,r.a.createElement("div",null,r.a.createElement("div",{className:"row"},a?r.a.createElement("div",{className:"progress loadingBar "},r.a.createElement("div",{className:"indeterminate "})):" ",r.a.createElement("div",{className:"col s7"},r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"card grey lighten-5 z-depth-0"},r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:" "},r.a.createElement("h4",{className:"amber-text"},"Create Post"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"file",className:"",onChange:this.handleChange("photo"),accept:"image/*",name:"photo",id:"photo"}),this.state.fileSize>1e5?r.a.createElement("div",{className:"red-text"},"File Size should be less than 100kb"):null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("div",{className:"amber-text"},"Post Title"),r.a.createElement("input",{placeholder:this.state.name,onChange:this.handleChange("title"),name:"title",id:"title",type:"text"}))),r.a.createElement("div",{className:"row"},r.a.createElement("input-field",{className:"col s12"},r.a.createElement("div",{className:"amber-text"},"Post Body"),r.a.createElement("textarea",{onChange:this.handleChange("body"),id:"body",className:"materialize-textarea"}))),r.a.createElement("input",{type:"submit",value:"Create Post",className:"btn amber z-depth-0"})))))))))}}]),t}(n.Component),le=a(16),oe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1},a.handleDelete=function(){var e=b().token,t=a.props.postId;k(t,e).then(function(e){e.error?console.warn(e.error):a.setState({redirect:!0})})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){Y.a.Modal.init(this.Modal,{inDuration:250,outDuration:250,opacity:.5,dismissible:!0,startingTop:"4%",endingTop:"10%"})}},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(h.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("div",{className:"chip hoverColor modal-trigger right","data-target":"modal1"},r.a.createElement("span",{href:"#",className:"amber-text text-darken-2 "}," Delete"),r.a.createElement("i",{className:"material-icons  amber-text tiny right foo"},"close")),r.a.createElement("div",{ref:function(t){e.Modal=t},id:"modal1",className:"modal  background-modal-light-karo"},r.a.createElement("div",{className:"modal-content  background-light-karo"},r.a.createElement("h4",{className:"white-text"},"Deleting Post"),r.a.createElement("p",{className:"white-text"},"Are you sure?")),r.a.createElement("div",{className:"modal-footer  background-light-karo"},r.a.createElement("span",{className:"modal-close btn-floating grey "},r.a.createElement("i",{className:"material-icons"},"close")),r.a.createElement("span",{className:"modal-close btn-floating amber",onClick:this.handleDelete},r.a.createElement("i",{className:"material-icons"},"done")))))}}]),t}(n.Component),ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={text:"",error:"",errorState:!1,redirect:!1},a.handleChange=function(e){var t;a.setState((t={},Object(M.a)(t,e.target.name,e.target.value),Object(M.a)(t,"errorState",!1),t))},a.isValid=function(){var e=a.state.text;return!(!e.length>0||e.length>150)||(a.setState({error:"Comment must not be empty or less thatn 150 characters long...",errorState:!0}),!1)},a.renderError=function(){return r.a.createElement("div",{style:{padding:"3rem"},className:"grey-text amber lighten-5"},a.state.error)},a.addComment=function(e){if(e.preventDefault(),b()&&b().user){var t=b().user._id,n=b().token,r=a.props.postId;if(a.isValid()){a.state.text;T(t,n,r,{text:a.state.text}).then(function(e){e.error?console.warn(e.error):(a.setState({text:""}),console.warn(a.state),a.props.updateComments(e.comments))})}}else a.setState({redirect:!0})},a.handleUncomment=function(e){var t=b().user._id,n=b().token,r=a.props.postId;D(t,n,r,e).then(function(e){e.error&&console.warn(e.error),a.props.updateComments(e.comments)}).catch(function(e){return console.warn(e)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.warn(this.props),this.state.redirect?r.a.createElement(h.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card white"},r.a.createElement("div",{className:"card-content white-text"},this.props.comments?r.a.createElement("span",{className:"grey-text right"},this.props.comments.length," Comments"):r.a.createElement("span",null,"0 Comments"),r.a.createElement("span",{className:"card-title amber-text"},"Comments Section"),this.state.errorState?this.renderError():null,r.a.createElement("form",{onSubmit:this.addComment},r.a.createElement("input",{placeholder:"Add Comment",type:"text",name:"text",onChange:this.handleChange,value:this.state.text}),r.a.createElement("input",{type:"submit",className:"btn amber z-depth-0",value:"post comment"}))),this.props.comments?this.props.comments.map(function(t,a){return r.a.createElement("div",{className:"card background-light-karo-comment  z-depth-0 grey lighten-5",key:a,style:{marginBottom:"1rem",padding:"1rem"}},r.a.createElement("div",{className:"",style:{paddingLeft:"1.5rem"}},t.postedBy?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.b,{to:"/user/".concat(t.postedBy._id)},r.a.createElement("img",{style:{borderRadius:"50%"},className:"responsive-img ",width:"40",onError:function(e){return e.target.src="".concat(N.a)},src:"".concat("http://178.128.234.170/api","/user/photo/").concat(t.postedBy._id),alt:""}))):null,r.a.createElement("div",{style:{cursor:"default"},className:"chip upar-karo"},r.a.createElement("span",{className:""},t.text)),r.a.createElement("br",null),b().user&&b().user._id===t.postedBy._id?r.a.createElement("div",{style:{marginBottom:"1rem"}},r.a.createElement("button",{className:"btn btn-floating amber lighten-3 right z-depth-0",onClick:function(){return e.handleUncomment(t)}},r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons"},"close")))):null,r.a.createElement("span",{style:{fontSize:"0.7rem"},className:"  grey-text"},"".concat(new Date(t.created).toDateString()))))}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"red-text"},"Loading............"))))))}}]),t}(n.Component),me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={post:"",error:"",like:!1,likes:0,redirect:!1,toast:!1,comments:[]},a.checkLike=function(e){var t=b()&&b().user._id;return-1!==e.indexOf(t)},a.updateComments=function(e){console.log(e),console.log(Object(le.a)(Object(le.a)(a))),a.setState({comments:e})},a.likeToggle=function(){if(!b())return a.setState({redirect:!0}),!1;var e=a.state.like?C:O,t=b().user._id,n=a.state.post._id;e(t,b().token,n).then(function(e){e.error?console.warn(e.error):(a.setState({like:!a.state.like,likes:e.likes.length}),a.state.like?window.M.toast({html:"Post Liked",displayLength:4e3}):window.M.toast({html:"Post Disliked",displayLength:4e3}))})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){return fetch("".concat("http://178.128.234.170/api","/post/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){return console.warn(e)})})(this.props.match.params.postId).then(function(t){t.error?e.setState({redirect:!0,error:t.error}):e.setState({post:t,likes:t.likes.length,like:e.checkLike(t.likes),comments:t.comments})})}},{key:"componentWillReceiveProps",value:function(e){console.warn(e)}},{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(h.a,{to:"/signin"});var e,t,a,n,c,s=this.state.post;return this.state.post&&(this.state.post.postedBy?(e="".concat("http://178.128.234.170/api","/user/photo/").concat(s.postedBy._id,"?").concat((new Date).getTime()),t=this.state.post.postedBy._id,a=this.state.post.postedBy.name,n=this.state.post.likes,c=this.state.comments):e=N.a),console.warn(this.state),r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"",key:s._id},r.a.createElement("div",{className:"card horizontal"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:"".concat("http://178.128.234.170/api","/post/photo/").concat(s._id),onError:function(e){return e.target.src="".concat(A.a)}})),r.a.createElement("div",{className:"card-stacked"},r.a.createElement("div",{className:"card-content"},r.a.createElement(u.b,{to:"/user/".concat(t)},r.a.createElement("img",{className:"responsive-img right circle left userListPhoto",onError:function(e){return e.target.src="".concat(A.a)},width:"35",src:e,alt:""}),r.a.createElement("span",{className:"grey-text left"},"Posted By: ",r.a.createElement("span",{className:"amber-text"},a)),r.a.createElement("br",null),r.a.createElement("span",{className:"grey-text left"},"Created on"," ",r.a.createElement("span",{className:"amber-text"},new Date(s.created).toDateString()))),r.a.createElement("h3",{className:"amber-text"},s.title),r.a.createElement("p",{className:"grey-text "},s.body),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"divider"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"chip left",onClick:this.likeToggle},this.state.like?r.a.createElement("i",Object(M.a)({className:"",style:{paddingTop:"0.3rem"}},"className","material-icons amber-text "),"thumb_up"):r.a.createElement("i",Object(M.a)({className:"amber-text ",style:{paddingTop:"0.3rem"}},"className","material-icons"),"thumb_up"),n?r.a.createElement("span",{style:{paddingLeft:"1rem"},className:"right"},this.state.likes):null),b().user&&b().user._id===t?r.a.createElement("div",null,r.a.createElement(oe,{postId:s._id}),r.a.createElement(u.b,{to:"/post/edit/".concat(s._id)},r.a.createElement("div",{className:"chip hoverColor right"},r.a.createElement("span",{href:"#",className:"amber-text text-darken-2 "}," Edit"),r.a.createElement("i",{className:"material-icons  amber-text tiny right foo"},"edit")))):null))),r.a.createElement(ie,{postId:s._id,comments:c&&c.reverse(),updateComments:this.updateComments})))}}]),t}(n.Component),de=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).init=function(t){var a=b().token;x(t,a).then(function(t){return e.setState({redirect:!0})})},e.handleChange=function(t){return function(a){var n;e.setState({error:""});var r="photo"===t?a.target.files[0]:a.target.value,c="photo"===t?a.target.files[0].size:0;e.postData.set(t,r),e.setState((n={},Object(M.a)(n,t,r),Object(M.a)(n,"fileSize",c),n))}},e.handleSubmit=function(t){e.setState({loading:!0,error:""}),t.preventDefault();var a=e.state;a.title,a.body;console.warn(e.postData),S(e.postId,b().token,e.postData).then(function(t){t.error?(e.setState({error:t.error}),console.warn(e.state.error)):(e.setState({loading:!0}),e.setState({id:"",title:"",body:"",loading:!0,open:!0,redirect:!0}),e.state.open&&window.M.toast({html:"Post Updated",displayLength:4e3}))})},e.state={id:"",title:"",body:"",error:"",redirect:!1,open:!1,loading:!1,fileSize:0},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.warn(this.props),this.postData=new FormData,this.postId=this.props.match.params.postId,console.warn(this.props),x(this.postId,b().token).then(function(t){t.error?e.setState({error:t.error}):e.setState({id:t._id,title:t.title,body:t.body})})}},{key:"render",value:function(){var e=this.state.loading;if(console.warn(this.state),this.state.redirect)return r.a.createElement(h.a,{to:"/post/".concat(this.postId)});var t=this.state.id?"".concat("http://178.128.234.170/api","/post/photo/").concat(this.state.id,"?").concat((new Date).getTime()):N.a;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},e?r.a.createElement("div",{className:"progress loadingBar "},r.a.createElement("div",{className:"indeterminate "})):" ",r.a.createElement("div",{className:"col s7"},r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"card grey lighten-5 z-depth-0"},r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{src:t,className:"responsive-img meriphoto",width:"",alt:this.state.title})),r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:""},r.a.createElement("h4",{className:"amber-text"},"Edit Post"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"file",className:"",onChange:this.handleChange("photo"),accept:"image/*",name:"photo",id:"photo"}),this.state.fileSize>1e5?r.a.createElement("div",{className:"red-text"},"File Size should be less than 100kb"):null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("div",{className:"amber-text"},"Post Title"),r.a.createElement("input",{onChange:this.handleChange("title"),value:this.state.title,name:"title",type:"text",id:"title"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"amber-text"},"Post Body"),r.a.createElement("textarea",{onChange:this.handleChange("body"),value:this.state.body,id:"body",className:"materialize-textarea"}))),r.a.createElement("input",{type:"submit",value:"Update",className:"btn amber z-depth-0"}))))))))}}]),t}(n.Component),ue=a(31),he=function(e){var t=e.component,a=Object(ue.a)(e,["component"]);return r.a.createElement(h.b,Object.assign({},a,{render:function(e){return b()?r.a.createElement(t,e):r.a.createElement(h.a,{to:{pathname:"/signin",state:e.location}})}}))},pe=function(){return r.a.createElement("div",null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:F}),r.a.createElement(h.b,{path:"/signup",component:J}),r.a.createElement(h.b,{path:"/signin",component:R}),r.a.createElement(he,{exact:!0,path:"/user/edit/:userId",component:ce}),r.a.createElement(he,{exact:!0,path:"/user/:userId",component:ne}),r.a.createElement(he,{exact:!0,path:"/post/create",component:se}),r.a.createElement(h.b,{path:"/users",component:re}),r.a.createElement(h.b,{exact:!0,path:"/post/:postId",component:me}),r.a.createElement(he,{exact:!0,path:"/post/edit/:postId",component:de})))},Ee=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement(u.a,null,r.a.createElement(y,null),r.a.createElement(pe,null)))}}]),t}(n.Component);s.a.render(r.a.createElement(Ee,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a.p+"static/media/defaultProfile.edced717.png"}},[[32,1,2]]]);
//# sourceMappingURL=main.8335416f.chunk.js.map