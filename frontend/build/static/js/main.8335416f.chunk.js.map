{"version":3,"sources":["images/umbrella.jpg","images/noImage.jpg","images/pen.jpg","images/demoPostImage.png","images/trollfaceeditted.png","auth/index.js","components/Navbar.js","components/post/apiPost.js","components/post/HomePost.js","components/post/HomePostList.js","components/Home.js","components/user/Signup.js","components/user/Signin.js","components/user/apiUser.js","components/user/DeleteUser.js","components/user/Follow.js","components/user/EditProfile.js","components/user/FollowingList.js","components/user/FollowersList.js","components/user/PostList.js","components/user/Profile.js","components/user/Users.js","components/user/EditProfileForm.js","components/post/NewPostForm.js","components/post/DeletePost.js","components/post/Comment.js","components/post/PostDetails.js","components/post/EditPostForm.js","auth/PrivateRoute.js","routes/MainRouter.js","App.js","index.js","images/defaultProfile.png"],"names":["module","exports","__webpack_require__","p","require","config","signup","user","fetch","concat","process","method","headers","Accept","Content-Type","body","JSON","stringify","then","res","json","catch","err","console","warn","signin","authenticate","jwt","next","window","localStorage","setItem","setTimeout","signOut","removeItem","isAuthenticated","getItem","parse","isActive","history","path","location","pathname","color","withRouter","_ref","react_default","a","createElement","className","style","cursor","data-target","Fragment","react_router_dom","to","_id","name","onClick","push","id","href","src","defaultProfile","alt","create","userId","token","post","Authorization","remove","postId","update","read","like","unlike","comment","uncomment","HomePostComponent","props","posts","map","Date","getTime","pen","key","onError","i","target","noImage","postedBy","width","title","fontSize","created","toDateString","renderPosts","HomePostListComponent","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","userPhoto","error","_this2","data","log","setState","HomePost","Component","HomeComponent","HomePostList","SignupComponent","email","password","redirect","open","loading","handleChange","e","defineProperty","value","handleSubmit","preventDefault","_this$state","M","toast","html","displayLength","react_router","onSubmit","onChange","type","htmlFor","SigninComponent","laoding","updateUser","auth","follow","followId","unfollow","unfollowId","getPostsSingleUser","methods","DeleteUserComponent","handleDelete","Modal","init","inDuration","outDuration","opacity","dismissible","startingTop","endingTop","ref","FollowButtonComponent","followClick","onButtonClicked","unfollowClick","following","FollowingListComponent","followingList","paddingLeft","borderRadius","FollowersListComponent","followersList","PostListComponent","umbrella","postsByUser","ProfileComponent","checkFollow","followers","find","follower","clickFollowButton","callApi","followingState","redirectToSignIn","loadPosts","erro","match","params","nextProps","photoUrl","created_at","DeleteUser","Follow","bio","PostList","FollowersList","FollowingList","UsersComponent","renderUsers","users","EditProfileFormComponent","redirectToProfile","event","_this$setState","files","fileSize","size","userData","set","FormData","accept","placeholder","NewPostFormComponent","_this$state2","postData","photo","_this$state3","DeletePostComponent","CommentComponent","text","errorState","isValid","length","renderError","padding","addComment","updateComments","comments","handleUncomment","marginBottom","PostDetailsComponent","likes","checkLike","likesArray","indexOf","assertThisInitialized","likeToggle","apiCall","readSinglePost","userName","paddingTop","DeletePost","Comment","reverse","EditPostFormComponent","PrivateRouteComponent","component","rest","objectWithoutProperties","assign","render","MainRouterComponent","exact","PrivateRoute","App","Navbar","MainRouter","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.8335416f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/umbrella.7076a5ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/noImage.76289f24.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pen.c51fdd12.jpg\";","module.exports = __webpack_public_path__ + \"static/media/demoPostImage.7aba92de.png\";","module.exports = __webpack_public_path__ + \"static/media/trollfaceeditted.8af9b511.png\";","require('dotenv').config()\r\nexport const signup = (user) => {\r\n  \r\n    return fetch(`${process.env.REACT_APP_API_URL}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n      .then(res => res.json())\r\n      .catch(err => console.warn(err))\r\n  }\r\n\r\n  export const signin = (user) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n      .then(res => res.json())\r\n      .catch(err => console.warn(err))\r\n  }\r\n\r\n  export const authenticate = (jwt, next) => {\r\n    if(typeof window !== \"undefined\") {\r\n        localStorage.setItem(\"jwt\", JSON.stringify(jwt))\r\n        setTimeout(() => {\r\n            next()\r\n        }, 3000);\r\n    }\r\n  }\r\n\r\n\r\n  export const signOut = (next) => {\r\n    if(typeof window !== 'undefined') {\r\n      localStorage.removeItem('jwt')\r\n      next()\r\n      return fetch(`${process.env.REACT_APP_API_URL}/signout`, {\r\n        method: 'GET'\r\n      })\r\n      .then(res => {\r\n        console.warn(res)\r\n        return res.json()\r\n      })\r\n      .catch(err => console.warn(err))\r\n    }\r\n  }\r\n  \r\n  export const isAuthenticated = () => {\r\n  \r\n    if(typeof window == 'undefined') {\r\n      return false\r\n    }\r\n  \r\n    if(localStorage.getItem('jwt')) {\r\n      return JSON.parse(localStorage.getItem('jwt'))\r\n    } else {\r\n      return false\r\n    }\r\n  }","import React from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nimport { signOut, isAuthenticated } from '../auth'\r\nimport defaultProfile from '../images/defaultProfile.png'\r\n\r\n\r\nconst isActive = (history, path) => {\r\n   if(history.location.pathname === path) {\r\n       return {color: '#ff9900'}\r\n   } else {\r\n      return {color: '#ffffff'}\r\n    }\r\n}\r\n\r\n\r\nconst NavbarComponent = ({history}) => {\r\n  return (\r\n      <div className=\"\">\r\n    <nav className=\"z-depth-0 grey darken-4\">\r\n        <div className=\"container\">\r\n    <div className=\"nav-wrapper\">\r\n      <span style={{cursor: \"pointer\"}} data-target=\"mobile-demo\" className=\"sidenav-trigger show-on-small\"><i className=\"material-icons\">menu</i></span>\r\n      <ul className=\"right hide-on-med-and-down\">\r\n        <>\r\n        <li>\r\n            <Link className=\"nav-link\" style={isActive(history, \"/\")} to=\"/\">Posts</Link>\r\n        </li>\r\n        <li>\r\n            <Link className=\"nav-link\" style={isActive(history, \"/users\")} to=\"/users\">Users</Link>\r\n        </li>\r\n        \r\n        </>\r\n        {\r\n          isAuthenticated()\r\n          ?\r\n          <>\r\n        <li>\r\n          <Link style={isActive(history, \"/post/create\")} to={`/post/create`} >Create Post</Link>\r\n        </li>\r\n        <li className=\"nav-link\">\r\n          <Link  className=\"btn-floating amber darken-3 pulse\" to={`/user/${isAuthenticated().user._id}`} ><i className=\"material-icons\">person</i>\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link to={`/user/${isAuthenticated().user._id}`} >\r\n            <span style={{color: 'orange'}}  >{isAuthenticated().user.name}'s profile</span>\r\n          </Link>\r\n        </li>\r\n\r\n        \r\n\r\n\r\n        <li className=\"nav-link\">\r\n          <Link to={`/signin`}>\r\n            <span onClick={() => signOut(() => history.push('/'))} >Sign Out</span>\r\n          </Link>\r\n        </li>\r\n        </>\r\n          :\r\n          <>\r\n       \r\n        <li>\r\n            <Link className=\"nav-link\" style={isActive(history, \"/signin\")} to=\"/signin\">Sign In</Link>\r\n        </li>\r\n        <li>\r\n            <Link className=\"nav-link\" style={isActive(history, \"/signup\")} to=\"/signup\">Sign Up</Link>\r\n        </li>\r\n        </>\r\n        }\r\n      </ul>\r\n    </div>\r\n    </div>\r\n  </nav>\r\n\r\n          \r\n  <ul className=\"sidenav fixed\" id=\"mobile-demo\">\r\n        {/* <li>\r\n        <div className=\"user-view \">\r\n          <div className=\"background amber darken-3\">\r\n            <img src=\"./img/ship_bottle.jpg\" alt=\"\" />\r\n          </div>\r\n          <a href=\"#!\"><span className=\"name white-text\">John Doe</span></a>\r\n          <a href=\"#!\"><span className=\"email white-text\">JDoe@gmail.com</span></a>\r\n          <li className=\"active\"><a href=\"/\"><i className=\"material-icons\">dashboard</i>Dashboard</a></li>\r\n          <li><div className=\"divider\"></div></li>\r\n          <li className=\"\"><a href=\"./posts.html\"><i className=\"material-icons\">local_post_office</i> Posts</a></li>\r\n          <li className=\"\"><a href=\"./categories.html\"><i className=\"material-icons\">category</i>Categories</a></li>\r\n          <li className=\"\"><a href=\"./comments.html\"><i className=\"material-icons\">comment</i>Comments</a></li>\r\n          <li className=\"\"><a href=\"./users.html\"><i className=\"material-icons\">face</i>Users</a></li>\r\n          <li><div href=\"#!\" className=\"divider\"></div></li>\r\n          <li><a href=\"#!\" className=\"subheader\">Account Controls</a></li>\r\n          <li><a href=\"#!\"><i className=\"material-icons\">logout</i>Logout</a></li>\r\n        </div>\r\n    </li> */}\r\n    <div className=\"user-view\">\r\n          <a href=\"#\"><img src={defaultProfile} alt=\"\" className=\"circle center-align\" /></a>\r\n          <div className=\"background amber darken-3\">\r\n            <img src=\"./img/ship_bottle.jpg\" alt=\"\" />\r\n          </div>\r\n          <a href=\"#!\"><span className=\"name white-text\">John Doe</span></a>\r\n          <a href=\"#!\"><span className=\"email white-text\">JDoe@gmail.com</span></a>\r\n          <li className=\"active\"><a href=\"/\"><i className=\"material-icons\">dashboard</i>Dashboard</a></li>\r\n          <li><div className=\"divider\"></div></li>\r\n          <li className=\"\"><a href=\"./posts.html\"><i className=\"material-icons\">local_post_office</i> Posts</a></li>\r\n          <li className=\"\"><a href=\"./categories.html\"><i className=\"material-icons\">category</i>Categories</a></li>\r\n          <li className=\"\"><a href=\"./comments.html\"><i className=\"material-icons\">comment</i>Comments</a></li>\r\n          <li className=\"\"><a href=\"./users.html\"><i className=\"material-icons\">face</i>Users</a></li>\r\n          <li><div href=\"#!\" className=\"divider\"></div></li>\r\n          <li><a href=\"#!\" className=\"subheader\">Account Controls</a></li>\r\n          <li><a href=\"#!\"><i className=\"material-icons\">logout</i>Logout</a></li>\r\n          </div>\r\n  </ul>\r\n  </div>\r\n  )\r\n}\r\n\r\n\r\nexport default withRouter(NavbarComponent)","export const create = (userId, token, post) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/new/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: post\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.warn(err))\r\n}\r\n\r\nexport const list = () => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}`, {\r\n      method: 'GET',\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.warn(err))\r\n}\r\n\r\nexport const readSinglePost = (postId) => {\r\n      return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }\r\n      })\r\n      .then(res => res.json())\r\n      .catch(err => console.warn(err))\r\n    }\r\n\r\n\r\nexport const remove = (postId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.warn(err))\r\n  }\r\n  \r\n\r\nexport const update = (postId, token, post) => {\r\n  return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    },\r\n    body: post\r\n  })\r\n  .then(res => res.json())\r\n  .catch(err => console.warn(err))\r\n}\r\n\r\n// export const updatePost = (user, next) => {\r\n//   if(typeof window !== 'undefined') {\r\n//     if(localStorage.getItem('jwt')) {\r\n//       let auth = JSON.parse(localStorage.getItem('jwt'))\r\n//         auth.user = user\r\n//         localStorage.setItem('jwt', JSON.stringify(auth))\r\n//         next()\r\n//     }\r\n//   }\r\n// }\r\n\r\n\r\nexport const read = (postId, token) => {\r\n  return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n  .catch(err => console.warn(err))\r\n}\r\n\r\n\r\n\r\n// export const updatePost = () => {\r\n//   console.warn('updatePost RAN')\r\n// }\r\n\r\n     \r\n\r\nexport const like = (userId, token, postId) => {\r\n  return fetch(`${process.env.REACT_APP_API_URL}/post/like`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify({userId, postId})\r\n  })\r\n  .then(res => res.json())\r\n  .catch(err => console.warn(err))\r\n}\r\n\r\n\r\n\r\nexport const unlike = (userId, token, postId) => {\r\n  return fetch(`${process.env.REACT_APP_API_URL}/post/unlike`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify({userId, postId})\r\n  })\r\n  .then(res => res.json())\r\n  .catch(err => console.warn(err))\r\n}\r\n\r\nexport const comment = (userId, token, postId, comment) => {\r\n \r\n  console.warn(comment)\r\n  return fetch(`${process.env.REACT_APP_API_URL}/post/comment`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify({userId, postId, comment})\r\n  })\r\n  .then(res => res.json())\r\n  .catch(err => console.warn(err))\r\n}\r\n\r\n\r\n\r\nexport const uncomment = (userId, token, postId, comment) => {\r\n  console.warn('UNCOMENT RAN')\r\n  console.warn(userId, token, postId, comment)\r\n  return fetch(`${process.env.REACT_APP_API_URL}/post/uncomment`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify({userId, postId, comment})\r\n  })\r\n  .then(res => res.json())\r\n  .catch(err => console.warn(err))\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport pen from '../../images/pen.jpg';\r\nimport umbrella from '../../images/umbrella.jpg';\r\nimport noImage from '../../images/noImage.jpg'\r\n\r\n\r\nconst HomePostComponent = (props) => {\r\n\r\n    const { posts } = props\r\n    const renderPosts = (posts) => {\r\n        return (\r\n            posts.map(post => {\r\n                var photoUrl = post._id ? `${process.env.REACT_APP_API_URL}/post/photo/${post._id}?${new Date().getTime()}` : pen\r\n                  return (\r\n                    <div className=\"\"  key={post._id}>\r\n                    <div className=\"card horizontal\">\r\n                        <div className=\"card-image\">\r\n                            <img  src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`} onError={i => i.target.src = `${noImage}`}  />\r\n                        </div>\r\n                        <div className=\"card-stacked\">\r\n                            <div className=\"card-content\">\r\n                                {\r\n                                    post.postedBy\r\n                                    ?\r\n                                    (\r\n                                    <Link to={`/user/${post.postedBy._id}`}>\r\n                                        <img className=\"responsive-img right circle left userListPhoto\" width=\"35\" src={`${process.env.REACT_APP_API_URL}/user/photo/${post.postedBy._id}`} alt=\"\"/>\r\n                                    </Link>\r\n                                    )\r\n                                    :\r\n                                    ('USER DELETED')\r\n                                }\r\n                            <h6 className=\"amber-text lead\">{post.title}</h6>\r\n                            {/* <br/> */}\r\n                            {\r\n                                    post.postedBy\r\n                                    ?\r\n                                    (\r\n                                    <Link to={`/user/${post.postedBy._id}`}>\r\n                                        <span style={{\"fontSize\": \"0.7rem\"}} className=\"left grey-text chip \">{`Posted By ${post.postedBy.name}`}</span><br/>\r\n                                    </Link>\r\n                                    )\r\n                                    :\r\n                                    ('USER DELETED')\r\n                                }\r\n                            \r\n                                <span style={{\"fontSize\": \"0.7rem\"}}  className=\"right  grey-text\">{`${new Date(post.created).toDateString()}`}</span>\r\n                            </div>\r\n                            <div className=\"card-action\">\r\n                                <Link to={`/post/${post._id}`}>\r\n                                    <div className=\"chip boo amber-text text-darken-2 left\">\r\n                                        <i className=\"material-icons  amber-text tiny right foo\">arrow_upward</i>\r\n                                        <span href=\"#\" className=\" \">Read More</span>\r\n                                    </div>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                        </div> \r\n                    </div>\r\n                  )\r\n              })\r\n        )\r\n    }\r\n\r\n    console.warn(props)\r\n        return (\r\n            <div className=\"col s12 m7\">\r\n                            {\r\n                                renderPosts(posts)\r\n                            }\r\n                    </div>\r\n        )\r\n}\r\n\r\nexport default HomePostComponent\r\n\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { list } from './apiPost'\r\nimport { isAuthenticated } from '../../auth'\r\n\r\nimport HomePostComponent from './HomePost'\r\nimport defaultProfile from '../../images/defaultProfile.png'\r\nimport pen from '../../images/pen.jpg';\r\nimport umbrella from '../../images/umbrella.jpg';\r\nimport demoPostImage from '../../images/demoPostImage.png'\r\n\r\nclass HomePostListComponent extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            posts: [],\r\n            userPhoto: [],\r\n            error: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        list()\r\n        .then(data => {\r\n            if(data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                this.setState({\r\n                    posts: data\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n      const { posts } = this.state\r\n    return (\r\n        <div className=\"col s6\">\r\n            <div className=\"row\">\r\n                <HomePostComponent posts={this.state.posts} />\r\n            </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HomePostListComponent","import React from 'react'\r\nimport HomePostListComponent from './post/HomePostList'\r\n\r\nconst HomeComponent = () => {\r\n    return (\r\n        <div className=\"container\">\r\n            <br/><br/><br/>\r\n        <HomePostListComponent />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomeComponent","import React, { Component } from 'react'\r\nimport { signup } from '../../auth'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nclass SignupComponent extends Component {\r\n\r\n  state = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    redirect: false,\r\n    open: false,\r\n    loading: false\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({error: \"\"})\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n\r\n    this.setState({\r\n      loading: true\r\n    })\r\n\r\n    e.preventDefault()\r\n    const {name, email, password} = this.state\r\n    // console.warn(this.state)\r\n    const user = {name: name, email: email, password: password}\r\n    // console.warn(user)\r\n    \r\n\r\n    // if(this.state.error) {\r\n    //   this.setState({\r\n    //     loading: false\r\n    //   })\r\n    // }\r\n\r\n    if(!this.state.error) {\r\n      signup(user)\r\n        .then(data => {\r\n          if(data.error) {\r\n            this.setState({\r\n              error: data.error\r\n            })\r\n          } else {\r\n            setTimeout(() => {\r\n              this.setState({\r\n                name: \"\",\r\n                email: \"\",\r\n                password: \"\",\r\n                error: \"\",\r\n                open: true,\r\n                loading: true\r\n              })\r\n              this.setState({\r\n                loading: false,\r\n                redirect: true\r\n              })\r\n              if(this.state.open) {\r\n                window.M.toast({html: 'New User Created', displayLength: 4000})\r\n                window.M.toast({html: 'Please Sign In', displayLength: 4000})\r\n              }\r\n            }, 2000);\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  render() {\r\n    if(this.state.redirect) {\r\n      return <Redirect to=\"/signin\"></Redirect>\r\n    }\r\n    const { loading } = this.state\r\n    return (\r\n      <div>\r\n      {\r\n                loading ? (  <div className=\"progress loadingBar white\"> \r\n            <div className=\"indeterminate \"></div>\r\n            </div>) : (\" \")\r\n      }\r\n        <div className=\"row\">\r\n          <div className=\"col s7\">\r\n          <div className=\"container\">\r\n            <br/><br/>\r\n            <div className=\"card grey lighten-5 z-depth-0\">\r\n              <div className=\"card-content\">\r\n                <div className=\"red-text\">{this.state.error}</div>\r\n                <form onSubmit={this.handleSubmit} className=\" \">\r\n            <h4 className=\"amber-text\">Sign Up</h4>\r\n                  <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                      <input onChange={this.handleChange} value={this.state.name} name=\"name\"  id=\"name\" type=\"text\" />\r\n                      <label htmlFor=\"name\">Name</label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                      <input onChange={this.handleChange} value={this.state.email} name=\"email\" id=\"email\" type=\"email\"/>\r\n                      <label htmlFor=\"email\">Email</label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                      <input onChange={this.handleChange} value={this.state.password} name=\"password\" id=\"password\" type=\"password\" />\r\n                      <label htmlFor=\"password\">Password</label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <input type=\"submit\" value=\"Submit\" className=\"btn amber z-depth-0\" />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default SignupComponent","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { isAuthenticated } from '../../auth'\r\n\r\nimport { signin, authenticate } from '../../auth'\r\n\r\n\r\nclass SigninComponent extends Component {\r\n\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    redirect: false,\r\n    loading: false\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({error: \"\"})\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n  handleSubmit = (e) => {\r\n\r\n\r\n      // this.setState({\r\n      //   loading: true\r\n      // })\r\n\r\n\r\n    \r\n\r\n    e.preventDefault()\r\n\r\n    const {email, password} = this.state\r\n    // console.warn(this.state)\r\n    const user = {email: email, password: password}\r\n\r\n    // console.warn(user)\r\n    \r\n    // setTimeout(() => {\r\n    //   this.setState({\r\n    //     loading: true,\r\n    //     open: true\r\n    //   })\r\n    //   this.setState({\r\n    //     loading: false,\r\n    //     redirect: true\r\n    //   })\r\n    // }, 2000);\r\n\r\n    // if(this.state.email !== \"\" || this.state.password !== \"\") {\r\n\r\n      if(this.state.email == \"\") {\r\n        this.setState({\r\n          error: \"Email must not be blank\",\r\n          laoding: false\r\n        })\r\n        return false\r\n      }\r\n\r\n      if(this.state.password == \"\") {\r\n        this.setState({\r\n          error: \"Password must not be blank\",\r\n          loading: false\r\n        })\r\n        return false\r\n      }\r\n      signin(user)\r\n        .then(data => {\r\n          if(data.error) {\r\n            this.setState({\r\n              error: data.error,\r\n              loading: false\r\n            })\r\n          } else {\r\n            this.setState({\r\n              loading: true\r\n            })\r\n            setTimeout(() => {\r\n              authenticate(data, () => {\r\n              this.setState({\r\n                  redirect: true\r\n              })\r\n            })\r\n            }, 2000)\r\n          }\r\n        })\r\n  }\r\n\r\n  render() {\r\n\r\n      if(this.state.redirect) {\r\n        window.M.toast({html: 'Sign In Successful', displayLength: 4000})\r\n        // console.warn(`/user/${isAuthenticated().token}`)\r\n        return <Redirect to={`/user/${isAuthenticated().user._id}`} />\r\n      }\r\n\r\n      const {loading} = this.state\r\n      console.warn(loading)\r\n      return (\r\n        <div>\r\n        { isAuthenticated() ? <Redirect to=\"/\" /> : null}\r\n              {\r\n                  loading \r\n                  ? \r\n                  (  \r\n                    <div className=\"progress loadingBar \"> \r\n                      <div className=\"indeterminate\"></div>\r\n                    </div>\r\n                  ) \r\n                  : \r\n                  (\" \")\r\n              }\r\n                \r\n            <div className=\"row\">\r\n              <div className=\"col s7\">\r\n              <div className=\"container\">\r\n              \r\n              <br/><br/>\r\n              \r\n                <div className=\"card grey lighten-5 z-depth-0 \">\r\n              <div className=\"row\">\r\n                <div className=\"\">\r\n                  <div className=\"card-content\">\r\n\r\n                    <form onSubmit={this.handleSubmit} className=\"\">\r\n                    <h4 className=\"amber-text\">Sign In</h4>\r\n                    {\r\n                      this.state.error ? (<p className=\"red-text\">{this.state.error}</p>) : null\r\n                    }\r\n                        <div className=\"row\">\r\n                            <div className=\"input-field col s12\">\r\n                            <input onChange={this.handleChange} value={this.state.email} name=\"email\" id=\"email\" type=\"email\"/>\r\n                            <label htmlFor=\"email\">Email</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"input-field col s12\">\r\n                            <input onChange={this.handleChange} value={this.state.password} name=\"password\" id=\"password\" type=\"password\" />\r\n                            <label htmlFor=\"password\">Password</label>\r\n                            </div>\r\n                        </div>\r\n                      <input type=\"submit\" value=\"Submit\" className=\"btn amber z-depth-0\" />\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n                </div>\r\n              </div>\r\n              </div>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n          \r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default SigninComponent","export const read = (userId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.warn(err))\r\n  }\r\n\r\n  export const remove = (userId, token) => {\r\n      return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      })\r\n      .then(res => res.json())\r\n      .catch(err => console.warn(err))\r\n    }\r\n\r\n  export const list = () => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/users`, {\r\n      method: 'GET',\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.warn(err))\r\n  }\r\n\r\n  // export const getUserPhoto = (userId) => {\r\n  //   return fetch(`${process.env.REACT_APP_API_URL}/user/photo/${userId}`, {\r\n  //     method: 'GET'\r\n  //   })\r\n  //   .then(res => res.json())\r\n  //   .catch(err => console.warn(err))\r\n  // }\r\n\r\n  // export const update = (userId, token, user) => {\r\n  //   console.warn(userId)\r\n  //   console.warn(token)\r\n  //   console.warn(user)\r\n  //   return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n  //     method: 'PUT',\r\n  //     headers: {\r\n  //       Accept: 'application/json',\r\n  //       'Content-Type': 'application/json',\r\n  //       'Authorization': `Bearer ${token}`\r\n  //     },\r\n  //     body: JSON.stringify(user)\r\n  //   })\r\n  //   .then(res => res.json())\r\n  //   .catch(err => console.warn(err))\r\n  // }\r\n\r\n\r\n  export const update = (userId, token, user) => {\r\n    // alert(userId)\r\n    // alert(token)\r\n    // alert(JSON.stringify(user))\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: user\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.warn(err))\r\n  }\r\n\r\n\r\n  export const updateUser = (user, next) => {\r\n    if(typeof window !== 'undefined') {\r\n      if(localStorage.getItem('jwt')) {\r\n        let auth = JSON.parse(localStorage.getItem('jwt'))\r\n          auth.user = user\r\n          localStorage.setItem('jwt', JSON.stringify(auth))\r\n          next()\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  \r\n  export const follow = (userId, token, followId) => {\r\n    console.warn(userId, followId)\r\n    console.warn(JSON.stringify(userId, followId))\r\n    console.warn(`${process.env.REACT_APP_API_URL}`)\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/follow`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({userId, followId})\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.warn(err))\r\n  }\r\n\r\n\r\n  export const unfollow = (userId, token, unfollowId) => {\r\n    console.warn('================================')\r\n    console.warn(unfollowId)\r\n    console.warn('================================')\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/unfollow`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({userId, unfollowId})\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.warn(err))\r\n  }\r\n\r\n  export const getPostsSingleUser = (userId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/posts/by/${userId}`, {\r\n      methods: 'GET'\r\n    })\r\n    .then(res => res.json())\r\n    .catch(err => console.warn(err))\r\n  }","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { isAuthenticated, signOut } from \"../../auth\"\r\nimport { remove } from \"./apiUser\"\r\nimport M from \"materialize-css\";\r\nimport \"materialize-css/dist/css/materialize.min.css\";\r\n\r\nclass DeleteUserComponent extends Component {\r\n\r\n  state = {\r\n    redirect: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    const options = {\r\n      // onOpenStart: () => {\r\n      //   console.log(\"Open Start\");\r\n      // },\r\n      // onOpenEnd: () => {\r\n      //   console.log(\"Open End\");\r\n      // },\r\n      // onCloseStart: () => {\r\n      //   console.log(\"Close Start\");\r\n      // },\r\n      // onCloseEnd: () => {\r\n      //   console.log(\"Close End\");\r\n      // },\r\n      inDuration: 250,\r\n      outDuration: 250,\r\n      opacity: 0.5,\r\n      dismissible: true,\r\n      startingTop: \"4%\",\r\n      endingTop: \"10%\"\r\n    };\r\n    M.Modal.init(this.Modal, options);\r\n\r\n    // let instance = M.Modal.getInstance(this.Modal);\r\n    // instance.open();\r\n    // instance.close();\r\n    // instance.destroy();\r\n  }\r\n\r\n  handleDelete = () => {\r\n    // alert('done')\r\n    const token = isAuthenticated().token\r\n    const userId = this.props.userId\r\n    console.warn(userId)\r\n    remove(userId, token) \r\n    .then(data => {\r\n      if(data.error) {\r\n        console.warn(data.error)\r\n      } else {\r\n        // signout user\r\n        // redirect\r\n        signOut(() => console.warn(`User ${userId} DELETED`))\r\n        this.setState({\r\n          redirect: true\r\n        })\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    if(this.state.redirect) {\r\n      return <Redirect to=\"/\"></Redirect>\r\n    }\r\n    return (\r\n      <div>\r\n        {/* <a\r\n          className=\"waves-effect waves-light btn modal-trigger\"\r\n          data-target=\"modal1\"\r\n        >\r\n          Modal\r\n        </a> */}\r\n        <div className=\"chip hoverColor modal-trigger\" data-target=\"modal1\">\r\n          <span href=\"#\" className=\"amber-text text-darken-2 \"> Delete</span>\r\n          <i className=\"material-icons  amber-text tiny right foo\">close</i>\r\n        </div>\r\n\r\n        <div\r\n          ref={Modal => {\r\n            this.Modal = Modal;\r\n          }}\r\n          id=\"modal1\"\r\n          className=\"modal  background-modal-light-karo\"\r\n        >\r\n          <div className=\"modal-content  background-light-karo\">\r\n            <h4 className=\"white-text\">Deleting Profile</h4>\r\n            <p className=\"white-text\">Are you sure?</p>\r\n          </div>\r\n          <div className=\"modal-footer  background-light-karo\">\r\n            <span className=\"modal-close btn-floating grey \">\r\n              <i className=\"material-icons\">close</i>\r\n            </span>\r\n            <span className=\"modal-close btn-floating amber\" onClick={this.handleDelete}>\r\n             <i className=\"material-icons\">done</i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeleteUserComponent;\r\n","import React, { Component } from 'react'\r\nimport { follow, unfollow } from './apiUser'\r\nclass FollowButtonComponent extends Component {\r\n    \r\n    \r\n    followClick = () => {\r\n        console.warn(this.props)\r\n        this.props.onButtonClicked(follow) \r\n    }\r\n\r\n    unfollowClick = () => {\r\n        this.props.onButtonClicked(unfollow)\r\n    }\r\n\r\n    // componentWillReceiveProps(props) {\r\n    //     const userId = props.match.params.userId\r\n    //     this.init(userId)\r\n    //     console.warn('ini ran AGAIN===========================================')\r\n    //   }\r\n    \r\n    render() {\r\n        // alert(this.props.following)\r\n        // console.log(this.props.following)\r\n        return (\r\n            <div>\r\n        {/* {\r\n            !this.props.following\r\n            ?\r\n            (\r\n            <div className=\"chip  grey lighten-2 hoverColor\" onClick={this.followClick}>\r\n                <span href=\"#\" className=\"orange-text text-darken-2 \"> Follow</span>\r\n                <i className=\"material-icons  orange-text tiny right foo\">person_add</i>\r\n            </div>\r\n            )\r\n            :\r\n            (\r\n            <div className=\"chip  grey lighten-2 hoverColor\" onClick={this.unfollowClick}>\r\n                <span href=\"#\" className=\"orange-text text-darken-2 \"> Unfollow</span>\r\n                <i className=\"material-icons  orange-text tiny right foo\">person_add_disabled</i>\r\n            </div>\r\n            )\r\n        } */}\r\n        {\r\n            !this.props.following\r\n            ?\r\n            (\r\n            <div className=\"chip  grey lighten-2 hoverColor\" onClick={this.followClick}>\r\n                <span href=\"#\" className=\"orange-text text-darken-2 \"> Follow</span>\r\n                <i className=\"material-icons  orange-text tiny right foo\">person_add</i>\r\n            </div>\r\n            )\r\n            :\r\n            (\r\n            <div className=\"chip  grey lighten-2 hoverColor\" onClick={this.unfollowClick}>\r\n                <span href=\"#\" className=\"orange-text text-darken-2 \"> Unfollow</span>\r\n                <i className=\"material-icons  orange-text tiny right foo\">person_add_disabled</i>\r\n            </div>\r\n            )\r\n        }\r\n        {/* <Link to={`/user/edit/${userId}`}> */}\r\n        \r\n        {/* </Link> */}\r\n    </div>\r\n  )\r\n}\r\n}\r\n\r\n\r\n\r\nexport default FollowButtonComponent","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { read } from './apiUser'\r\nimport { isAuthenticated } from '../../auth'\r\n\r\n\r\n\r\nclass EditProfileComponent extends Component {\r\n\r\n    state = {\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\"\r\n    }\r\n    \r\n    // init = userId => {\r\n    //     // const tok\r\n    // }\r\n\r\n  render() {\r\n      // console.warn(isAuthenticated().user._id)\r\n      // console.warn(this.props.userId)\r\n    return (\r\n      <div>\r\n            <div className=\"chip boo\">\r\n                <span href=\"#\" className=\"amber-text text-darken-2 boo\"> Edit</span>\r\n                <i className=\"material-icons  amber-text tiny right foo\">edit</i>\r\n            </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default EditProfileComponent","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport defaultProfile from '../../images/defaultProfile.png'\r\n\r\nclass FollowingListComponent extends Component {\r\n  render() {\r\n      // console.warn(this.props)\r\n    return (\r\n      <div>\r\n      <div className=\"collections \">\r\n          <ul className=\"collection with-header \">\r\n            <li className=\"collection-header \"><h5 className=\"amber-text background-light-karoo\">Following</h5></li>\r\n            {\r\n              this.props.followingList\r\n              ?\r\n              (\r\n                this.props.followingList.map((user, key) => {\r\n                  {/* console.warn(user.id) */}\r\n                  return (\r\n\r\n                    <Link className=\"amber-text\" to={`/user/${user._id}`}  key={key}>\r\n                  <li className=\"collection-item avatar\" style={{\"paddingLeft\": \"1.5rem\"}}>\r\n                    <img style={ {\"borderRadius\": \"50%\"}} className=\"responsive-img left\" width=\"40\"  onError={i => i.target.src = `${defaultProfile}`}  src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`} alt=\"\" />\r\n                    <span className=\"amber-text\" style={{\"paddingLeft\": \"1rem\"}} className=\"title\">{user.name}</span>\r\n                    <span href=\"\" className=\"secondary-content  btn-floating  z-depth-0\" >\r\n                      <i className=\"material-icons grey lighten-3 amber-text text-darken-2  \">visibility</i>\r\n                    </span>\r\n                  </li> \r\n                    </Link>\r\n                  )\r\n                })\r\n              )\r\n              :\r\n              (\r\n                <>\r\n                <div className=\"red-text\">Loading............</div>\r\n                </>\r\n              )\r\n            }\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default FollowingListComponent","import React, { Component } from 'react'\r\nimport defaultProfile from '../../images/defaultProfile.png'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass FollowersListComponent extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n      <div className=\"collections grey lighten-1\">\r\n          <ul className=\"collection with-header  grey lighten-1\">\r\n            <li className=\"collection-header\"><h5 className=\"amber-text\">Followers</h5></li>\r\n            {\r\n              this.props.followersList\r\n              ?\r\n              (\r\n                this.props.followersList.map((user, key) => {\r\n                  return (\r\n                    <Link to={`/user/${user._id}`} className=\"amber-text\"  key={key}>\r\n                      <li className=\"collection-item avatar\" style={{\"paddingLeft\": \"1.5rem\"}}>\r\n                        <img style={{\"paddingRight\": \"0.5rem\"}, {\"paddingTop\": \"1rem\"}, {\"borderRadius\": \"50%\"}} className=\"responsive-img left\" width=\"40\"  onError={i => i.target.src = `${defaultProfile}`}  src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`} alt=\"\" />\r\n                        <span style={{\"paddingLeft\": \"1rem\"}} className=\"title\">{user.name}</span>\r\n                        <span href=\"\" className=\"secondary-content  btn-floating  z-depth-0\" >\r\n                          <i className=\"material-icons grey lighten-3 amber-text text-darken-2  \">visibility</i>\r\n                        </span>\r\n                      </li> \r\n                    </Link>\r\n                  )\r\n                })\r\n              )\r\n              :\r\n              (\r\n                <>\r\n                <div className=\"red-text\">Loading............</div>\r\n                </>\r\n              )\r\n            }\r\n            {/* <li className=\"collection-item avatar\">\r\n              <i className=\"material-icons circle amber\">person</i>\r\n              <span className=\"title\">Richie</span>\r\n              <p className=\"grey-text\">User Profile</p>\r\n              <a href=\"\" className=\"secondary-content  btn-floating  z-depth-0\" >\r\n                <i className=\"material-icons grey lighten-3 amber-text text-darken-2  \">email</i>\r\n              </a>\r\n          </li> */}\r\n          <li className=\"collection-item\">\r\n            {/* {JSON.stringify(this.props.followersList)} */}\r\n          </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default FollowersListComponent","import React from 'react'\r\nimport { getPostsSingleUser } from './apiUser'\r\nimport { isAuthenticated } from '../../auth'\r\nimport defaultProfile from '../../images/defaultProfile.png'\r\nimport umbrella from '../../images/umbrella.jpg';\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nconst PostListComponent = ({posts}) => {\r\n\r\n  \r\n  console.warn(posts)\r\n\r\n  const postsByUser = posts => {\r\n    return (\r\n      posts.map( post => {\r\n        return (\r\n          <Link to={`/post/${post._id}`} className=\"amber-text\"  key={post._id}>\r\n            <li className=\"collection-item avatar\" style={{\"paddingLeft\": \"1.5rem\"}}>\r\n              <img style={{\"paddingRight\": \"0.5rem\"}, {\"paddingTop\": \"1rem\"}, {\"borderRadius\": \"50%\"}} className=\"responsive-img left\" width=\"40\"  onError={i => i.target.src = `${umbrella}`}  src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`} alt=\"\" />\r\n              <span style={{\"paddingLeft\": \"1rem\"}} className=\"title\">{post.title}</span>\r\n              <span href=\"\" className=\"secondary-content  btn-floating  z-depth-0\" >\r\n                <i className=\"material-icons grey lighten-3 amber-text text-darken-2  \">visibility</i>\r\n              </span>\r\n            </li> \r\n          </Link>\r\n        )\r\n      })\r\n    )\r\n  }\r\n\r\n    return (\r\n      <div>\r\n      <div className=\"collections\">\r\n          <ul className=\"collection with-header \">\r\n            <li className=\"collection-header \"><h5 className=\"amber-text background-light-karoo\">Posts</h5></li>\r\n            {postsByUser(posts)}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\n\r\nexport default PostListComponent","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { isAuthenticated } from '../../auth'\r\nimport { read, getPostsSingleUser } from './apiUser'\r\n\r\nimport trollfaceeditted from '../../images/trollfaceeditted.png'\r\nimport defaultProfile from '../../images/defaultProfile.png'\r\nimport DeleteUserComponent from './DeleteUser'\r\nimport EditProfileComponent from './EditProfile'\r\nimport FollowButtonComponent from './Follow'\r\nimport FollowingListComponent from './FollowingList'\r\nimport FollowersListComponent from './FollowersList'\r\nimport PostListComponent from './PostList'\r\n\r\nclass ProfileComponent extends Component {\r\n\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      user: {\r\n        following: [],\r\n        followers: []\r\n      },\r\n      redirectToSignIn: false,\r\n      followingState: false,\r\n      error: '',\r\n      posts: []\r\n    }\r\n  }\r\n\r\n// check follow\r\ncheckFollow = user => {\r\n  const jwt = isAuthenticated()\r\n  const match = user.followers.find(follower => {\r\n    // one id has many other ids (followers) and vice versa\r\n      return follower._id === jwt.user._id\r\n\r\n  })\r\n  return match\r\n}\r\n\r\nclickFollowButton = callApi => {\r\n  const userId = isAuthenticated().user._id\r\n  // const userId = this.props.match.params.userId\r\n  const token = isAuthenticated().token\r\n\r\n  callApi(userId, token, this.state.user._id)\r\n  .then(data => {\r\n    if(data.error) {\r\n      this.setState({error: data.error})\r\n    } else {\r\n      this.setState({user: data, followingState: !this.state.followingState})\r\n    }\r\n  })\r\n}\r\n  \r\n\r\n  init = (userId) => {\r\n    const token = isAuthenticated().token\r\n    read(userId, token)\r\n    .then(data => {\r\n      if(data.error) {\r\n        this.setState((state, props) => {\r\n          return {\r\n            redirectToSignIn: true\r\n          }\r\n        })\r\n      } else {\r\n        let followingState = this.checkFollow(data)\r\n        this.loadPosts(data._id)\r\n        this.setState({\r\n            user: data,\r\n            followingState: followingState\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  loadPosts = userId => {\r\n    let token = isAuthenticated().token\r\n    getPostsSingleUser(userId, token)\r\n    .then(data => {\r\n      if(data.error) {\r\n        this.setState({\r\n          erro: data.error\r\n        })\r\n      } else {\r\n        this.setState({\r\n          posts: data\r\n        })\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    const userId = this.props.match.params.userId\r\n    this.init(userId)\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    const userId = nextProps.match.params.userId\r\n    // alert(userId)\r\n    this.init(userId)\r\n    // console.warn('ini ran AGAIN===========================================')\r\n  }\r\n\r\n  render() {\r\n    const userId = this.props.match.params.userId\r\n    const redirectToSignIn = this.state.redirectToSignIn\r\n    // console.warn(this.state.user.following)\r\n    // console.warn(this.state.user.followers)\r\n    console.warn(this.state)\r\n    if(redirectToSignIn) {\r\n      return <Redirect to=\"/signin\"></Redirect>\r\n    }\r\n    const photoUrl = userId ? `${process.env.REACT_APP_API_URL}/user/photo/${userId}?${new Date().getTime()}` : defaultProfile\r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          {/* <br/><br/><br/> */}\r\n          <br/>\r\n          <div className=\"row\">\r\n            <div className=\"col s12\">\r\n              <div className=\"card background-light-karo cancel-margin-bottom  z-depth-0\">\r\n                <div className=\"card-content\">\r\n                <div className=\"containerr\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col s6\">\r\n                <img src={photoUrl} className=\"responsive-img meriphoto\" onError={i => i.target.src = `${defaultProfile}`} />\r\n                    </div>\r\n                    <div className=\"col s5\">\r\n                        <div className=\"card background-light-karo z-depth-0\">\r\n                          <div className=\"card-content background-light-karo\">\r\n                          <p className=\" z-depth-0 lighten-4 amber-text text-darken-2 \">User - {this.state.user.name}</p>\r\n                          <p className=\" z-depth-0 lighten-4 amber-text text-darken-2\">Email - {this.state.user.email}</p>\r\n                          <p className=\" z-depth-0 lighten-4 amber-text text-darken-2\">Joined - {`${new Date(this.state.user.created_at).toDateString()}`}</p>\r\n                      {\r\n                        (\r\n                          isAuthenticated().user && isAuthenticated().user._id === this.state.user._id\r\n                        )\r\n                        ?\r\n                        (\r\n                          <div className=\"card-content\">\r\n                            <Link to={`/user/edit/${userId}`}>\r\n                            <div className=\"chip hoverColor left\">\r\n                              <span href=\"#\" className=\"amber-text text-darken-2 \"> Edit</span>\r\n                              <i className=\"material-icons  amber-text tiny right foo\">edit</i>\r\n                            </div>\r\n                          </Link>\r\n                            <DeleteUserComponent userId={this.state.user._id} />\r\n                          </div>\r\n                        )\r\n                        :\r\n                          <FollowButtonComponent following={this.state.followingState} onButtonClicked={this.clickFollowButton}/>\r\n                      }\r\n                          </div>\r\n                        </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr className=\"amber-text\"/>\r\n                <p className=\"orange-text\">{this.state.user.bio}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"card z-depth-0  background-light-karo cancel-margin-top\">\r\n              </div>\r\n              </div>\r\n          <div className=\"col s4 offset-s2\">\r\n            <div className=\"card background-light-karo z-depth-0\">\r\n            \r\n\r\n              </div>\r\n          </div>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col s12\">\r\n              <div className=\"row\">\r\n                <div className=\"col s12 m4\">\r\n                  <PostListComponent posts={this.state.posts} />\r\n                </div>\r\n                <div className=\"col s12 m4\">\r\n                  <FollowersListComponent followersList={this.state.user.followers} />\r\n                </div>\r\n                <div className=\"col s12 m4\">\r\n                  <FollowingListComponent followingList={this.state.user.following}/>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport default ProfileComponent","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { list, getUserPhoto } from './apiUser'\r\nimport { isAuthenticated } from '../../auth'\r\n\r\nimport defaultProfile from '../../images/defaultProfile.png'\r\n\r\nclass UsersComponent extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            users: [],\r\n            userPhoto: [],\r\n            error: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        list()\r\n        .then(data => {\r\n            if(data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                this.setState({\r\n                    users: data\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    renderUsers = users => {\r\n        return (\r\n            users.map(user => {\r\n                var photoUrl = user._id ? `${process.env.REACT_APP_API_URL}/user/photo/${user._id}?${new Date().getTime()}` : defaultProfile\r\n                  return (\r\n                      <div key={user._id}>\r\n                          <Link to={`/user/${user._id}`}>\r\n                  <div className=\"card z-depth-0 grey lighten-5\">\r\n                      <div className=\"card-content\">\r\n                          <img className=\"responsive-img circle right userListPhoto\" width=\"40\" src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`} onError={i => i.target.src = `${defaultProfile}`} />\r\n                          <h5 className=\"amber-text\"> {user.name}</h5>\r\n                          <br/>\r\n                            <div className=\"chip boo amber-text text-darken-2\">\r\n                              <i className=\"material-icons  amber-text tiny right foo\">person</i>\r\n                              <span href=\"#\" className=\" \">View Profile</span>\r\n                            </div>\r\n                      </div>\r\n                      </div>\r\n                          </Link>\r\n                  </div>\r\n                  )\r\n              })\r\n        )\r\n    }\r\n\r\n  render() {\r\n      const { users } = this.state\r\n      console.warn(users);\r\n    //   const user = \r\n    return (\r\n        <div className=\"container\">\r\n            <br/><br/><br/>\r\n            {/* <p className=\"amber-text\">{JSON.stringify(users)}</p> */}\r\n            <div className=\"row\">\r\n                <div className=\"col s5\">\r\n                    { this.renderUsers(users) }\r\n                </div>\r\n            </div>\r\n            <br/><br/>\r\n        </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default UsersComponent","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { update, read, updateUser }  from './apiUser'\r\nimport { isAuthenticated } from '../../auth'\r\n\r\nimport defaultProfile from '../../images/defaultProfile.png'\r\n\r\nclass EditProfileFormComponent extends Component {\r\n\r\n  userId\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      bio: \"\",\r\n      error: \"\",\r\n      redirectToProfile: false,\r\n      open: false,\r\n      loading: false,\r\n      fileSize: 0\r\n    }\r\n    // const userId = this.props.match.params.userId\r\n    \r\n  }\r\n  \r\n  componentDidMount() {\r\n    console.warn(this.props)\r\n    this.userData = new FormData()\r\n    this.userId = this.props.match.params.userId\r\n    read(this.userId, isAuthenticated().token)\r\n    .then((data) => {\r\n      this.setState({\r\n        name: data.name,\r\n        email: data.email,\r\n        bio: data.bio\r\n      })\r\n    })\r\n  }\r\n\r\n  // componentWillReceiveProps(props) {\r\n  //   console.warn(props)\r\n  //   this.setState({\r\n  //     name: props.name,\r\n  //     email: props.email\r\n  //   })\r\n  // }\r\n\r\n  init = userId => {\r\n    const token = isAuthenticated().token\r\n    read(userId, token)\r\n    .then(data => this.setState({redirectToProfile: true}))\r\n  }\r\n\r\n\r\n  handleChange = name => event => {\r\n    this.setState({error: \"\"})\r\n    // this.userData.set([e.target.id], value)\r\n    // this.setState({\r\n    //   [e.target.id]: value\r\n    // })\r\n    const value = name === 'photo' ? event.target.files[0] : event.target.value\r\n    const fileSize = name === 'photo' ? event.target.files[0].size : 0\r\n    this.userData.set(name, value)\r\n    this.setState({\r\n      [name]: value,\r\n      fileSize: fileSize\r\n    })\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    this.setState({\r\n      loading: true,\r\n      error: \"\"\r\n    })\r\n    e.preventDefault()  \r\n    const {name, email, bio} = this.state\r\n    const user = {name: name, email: email, bio}\r\n    console.warn(this.state)\r\n    \r\n\r\n    update(this.userId, isAuthenticated().token, this.userData)\r\n      .then(data => {\r\n        if(data.error) {\r\n          this.setState({\r\n            error: data.error\r\n          })\r\n          console.warn(this.state.error)\r\n        } else {\r\n          updateUser(data, () => {\r\n            setTimeout(() => {\r\n              this.setState({\r\n                name: \"\",\r\n                email: \"\",\r\n                password: \"\",\r\n                bio: \"\",\r\n                error: \"\",\r\n                open: true\r\n              })\r\n              this.setState({\r\n                loading: false,\r\n                redirectToProfile: true\r\n              })\r\n              if(this.state.open) {\r\n                window.M.toast({html: 'Profile Updated', displayLength: 4000})\r\n              }\r\n            }, 2000);\r\n          })\r\n        }\r\n      }\r\n      )\r\n  }\r\n\r\n\r\n  render() {\r\n    const { loading } = this.state\r\n    if(this.state.redirectToProfile) {\r\n      return <Redirect to={`/user/${this.props.match.params.userId}`}></Redirect>\r\n    }\r\n\r\n    const userId = this.props.match.params.userId\r\n    // const photoUrl = userId ? `${process.env.REACT_APP_API_URL}/user/photo/${userId}` : defaultProfile\r\n    const photoUrl = userId ? `${process.env.REACT_APP_API_URL}/user/photo/${userId}?${new Date().getTime()}` : defaultProfile\r\n    return (\r\n       <div>\r\n        <div className=\"row\">\r\n      {\r\n                loading ? (  <div className=\"progress loadingBar \"> \r\n            <div className=\"indeterminate \"></div>\r\n            </div>) : (\" \")\r\n      }\r\n          <div className=\"col s7\">\r\n          <div className=\"container\">\r\n            <br/><br/>\r\n                      {/* {this.state.error ?<div className=\"red-text\">{this.state.error}</div>: null} */}\r\n            <div className=\"card grey lighten-5 z-depth-0\">\r\n              <div className=\"container\">\r\n                <br/><br/>\r\n              <img src={photoUrl} className=\"responsive-img meriphoto\" width=\"\" alt={this.state.name}/>\r\n              </div>\r\n              <div className=\"card-content\">\r\n                <form onSubmit={this.handleSubmit} className=\" \">\r\n            <h4 className=\"amber-text\">Edit Profile</h4>\r\n            <br/><br/>\r\n                  <div className=\"row\">\r\n                    {/* <div className=\"file-field input-field\">\r\n                      <div className=\"btn indigo z-depth-0\">\r\n                        <span>Upload Picture</span>\r\n                        <i className=\"material-icons\">add</i>\r\n                        <input onChange={this.handleChange}  accept=\"image/*\" type=\"file\" name=\"photo\" id=\"photo\"/>\r\n                      </div>\r\n                      <div className=\"file-path-wrapper\">\r\n                        <input  placeholder=\"UPLOAD PHOTO\" type=\"text\" name=\"photo\" id=\"photo\" className=\"file-path\"/>\r\n                      </div>\r\n                    </div> */}\r\n                    <input type=\"file\" className=\"\" onChange={this.handleChange(\"photo\")}  accept=\"image/*\" name=\"photo\" id=\"photo\"/>\r\n                    {this.state.fileSize > 100000 ? ( <div className=\"red-text\">File Size should be less than 100kb</div>) : null}\r\n                  </div>\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                      <div className=\"amber-text\">Name</div>\r\n                      <input placeholder={this.state.name} onChange={this.handleChange(\"name\")} value={this.state.name} name=\"name\"  id=\"name\" type=\"text\" />\r\n                      {/* <label htmlFor=\"name\">Name</label> */}\r\n                      {this.state.name === \"\" && this.state.error ? (<div className=\"red-text\">Name cannot be empty</div>) : null}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                      <div className=\"amber-text\">Email</div>\r\n                      <input onChange={this.handleChange(\"email\")} placeholder={this.state.email} value={this.state.email} name=\"email\" type=\"email\" id=\"email\" />\r\n                      {/* <label htmlFor=\"email\">Email</label> */}\r\n                      {this.state.email === \"\" && this.state.error ? (<div className=\"red-text\">{this.state.error}</div>) : null}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col s12\">\r\n                      <div className=\"amber-text\">TextArea</div>\r\n                      <textarea onChange={this.handleChange(\"bio\")} id=\"bio\" value={this.state.bio} className=\"materialize-textarea\">{this.state.bio}</textarea>\r\n                    </div>\r\n                  </div>\r\n                  <input type=\"submit\" value=\"Update\" className=\"btn amber z-depth-0\" />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default EditProfileFormComponent","import React, { Component } from 'react'\r\nimport { isAuthenticated } from '../../auth'\r\nimport { create }  from './apiPost'\r\nimport { Redirect } from 'react-router-dom'\r\nimport defaultProfile from '../../images/defaultProfile.png'\r\n\r\n\r\nclass NewPostFormComponent extends Component {\r\n\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      title: \"\",\r\n      body: \"\",\r\n      photo: \"\",\r\n      error: \"\",\r\n      error: \"\",\r\n      user: {},\r\n      open: false,\r\n      redirectToProfile: false,\r\n      loading: false,\r\n      fileSize: 0\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.postData = new FormData()\r\n\r\n    this.setState({\r\n      user: isAuthenticated().user\r\n    })\r\n\r\n  }\r\n\r\n  handleChange = name => event => {\r\n    this.setState({error: \"\"})\r\n    const value = name === 'photo' ? event.target.files[0] : event.target.value\r\n    const fileSize = name === 'photo' ? event.target.files[0].size : 0\r\n    this.postData.set(name, value)\r\n    this.setState({\r\n      [name]: value,\r\n      fileSize: fileSize\r\n    })\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    this.setState({\r\n      loading: true,\r\n      error: \"\"\r\n    })\r\n    e.preventDefault()  \r\n    const {name, email, bio} = this.state\r\n    \r\n    create(this.state.user._id, isAuthenticated().token, this.postData)\r\n      .then(data => {\r\n        if(data.error) {\r\n          this.setState({\r\n            error: data.error\r\n          })\r\n        } else {\r\n          console.warn(this.state)\r\n            setTimeout(() => {\r\n              this.setState({\r\n                title: \"\",\r\n                body: \"\",\r\n                photo: \"\",\r\n                error: \"\",\r\n                user: {},\r\n                fileSize: 0,\r\n                loading: false,\r\n                redirectToProfile: true,\r\n                open: true\r\n              })\r\n              if(this.state.open) {\r\n                window.M.toast({html: 'Post Uploaded', displayLength: 4000})\r\n              }\r\n            }, 2000);\r\n        }\r\n      }\r\n      )\r\n  }\r\n\r\n\r\n  render() {\r\n    const { name, email, redirectToProfile } = this.state\r\n    const { loading } = this.state\r\n    if(redirectToProfile) {\r\n      return <Redirect to={`/user/${isAuthenticated().user._id}`}></Redirect>\r\n    }\r\n    if(this.state.redirectToProfile) {\r\n    }\r\n    \r\n\r\n    return (\r\n       <div>\r\n        <div className=\"row\">\r\n      {\r\n                loading ? (  <div className=\"progress loadingBar \"> \r\n            <div className=\"indeterminate \"></div>\r\n            </div>) : (\" \")\r\n      }\r\n          <div className=\"col s7\">\r\n          <div className=\"container\">\r\n            <br/><br/>\r\n            <div className=\"card grey lighten-5 z-depth-0\">\r\n              <div className=\"container\">\r\n                <br/><br/>\r\n              </div>\r\n              <div className=\"card-content\">\r\n                <form onSubmit={this.handleSubmit} className=\" \">\r\n            <h4 className=\"amber-text\">Create Post</h4>\r\n            <br/><br/>\r\n                  <div className=\"row\">\r\n                    <input type=\"file\" className=\"\" onChange={this.handleChange(\"photo\")}  accept=\"image/*\" name=\"photo\" id=\"photo\"/>\r\n                    {this.state.fileSize > 100000 ? ( <div className=\"red-text\">File Size should be less than 100kb</div>) : null}\r\n                  </div>\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                      <div className=\"amber-text\">Post Title</div>\r\n                      <input placeholder={this.state.name} onChange={this.handleChange(\"title\")}  name=\"title\"  id=\"title\" type=\"text\" />\r\n                      {/* {this.state.name === \"\" && this.state.error ? (<div className=\"red-text\">Name cannot be empty</div>) : null} */}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row\">\r\n                    <input-field className=\"col s12\">\r\n                      <div className=\"amber-text\">Post Body</div>\r\n                      <textarea onChange={this.handleChange(\"body\")} id=\"body\" className=\"materialize-textarea\"></textarea>\r\n                    </input-field>\r\n                  </div>\r\n                  <input type=\"submit\" value=\"Create Post\" className=\"btn amber z-depth-0\" />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default NewPostFormComponent","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { isAuthenticated, signOut } from \"../../auth\"\r\nimport { remove } from \"./apiPost\"\r\nimport M from \"materialize-css\";\r\nimport \"materialize-css/dist/css/materialize.min.css\";\r\n\r\nclass DeletePostComponent extends Component {\r\n\r\n  state = {\r\n    redirect: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    const options = {\r\n      // onOpenStart: () => {\r\n      //   console.log(\"Open Start\");\r\n      // },\r\n      // onOpenEnd: () => {\r\n      //   console.log(\"Open End\");\r\n      // },\r\n      // onCloseStart: () => {\r\n      //   console.log(\"Close Start\");\r\n      // },\r\n      // onCloseEnd: () => {\r\n      //   console.log(\"Close End\");\r\n      // },\r\n      inDuration: 250,\r\n      outDuration: 250,\r\n      opacity: 0.5,\r\n      dismissible: true,\r\n      startingTop: \"4%\",\r\n      endingTop: \"10%\"\r\n    };\r\n    M.Modal.init(this.Modal, options);\r\n\r\n    // let instance = M.Modal.getInstance(this.Modal);\r\n    // instance.open();\r\n    // instance.close();\r\n    // instance.destroy();\r\n  }\r\n\r\n\r\n\r\n  handleDelete = () => {\r\n    // alert('done')\r\n    const token = isAuthenticated().token\r\n    const postId = this.props.postId\r\n    remove(postId, token) \r\n    .then(data => {\r\n      if(data.error) {\r\n        console.warn(data.error)\r\n      } else {\r\n        // signout user\r\n        // redirect\r\n        this.setState({\r\n          redirect: true\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    if(this.state.redirect) {\r\n      return <Redirect to=\"/\"></Redirect>\r\n    }\r\n    return (\r\n      <div>\r\n        {/* <a\r\n          className=\"waves-effect waves-light btn modal-trigger\"\r\n          data-target=\"modal1\"\r\n        >\r\n          Modal\r\n        </a> */}\r\n        <div className=\"chip hoverColor modal-trigger right\" data-target=\"modal1\">\r\n          <span href=\"#\" className=\"amber-text text-darken-2 \"> Delete</span>\r\n          <i className=\"material-icons  amber-text tiny right foo\">close</i>\r\n        </div>\r\n\r\n        <div\r\n          ref={Modal => {\r\n            this.Modal = Modal;\r\n          }}\r\n          id=\"modal1\"\r\n          className=\"modal  background-modal-light-karo\"\r\n        >\r\n          <div className=\"modal-content  background-light-karo\">\r\n            <h4 className=\"white-text\">Deleting Post</h4>\r\n            <p className=\"white-text\">Are you sure?</p>\r\n          </div>\r\n          <div className=\"modal-footer  background-light-karo\">\r\n            <span className=\"modal-close btn-floating grey \">\r\n              <i className=\"material-icons\">close</i>\r\n            </span>\r\n            <span className=\"modal-close btn-floating amber\" onClick={this.handleDelete}>\r\n             <i className=\"material-icons\">done</i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeletePostComponent;\r\n","import React, { Component } from 'react'\r\nimport { comment, uncomment } from './apiPost'\r\nimport { isAuthenticated } from '../../auth'\r\nimport { Link, Redirect } from 'react-router-dom'\r\n\r\nimport defaultProfile from '../../images/defaultProfile.png'\r\n\r\n\r\nclass CommentComponent extends Component {\r\n\r\n\r\n    state = {\r\n        text: \"\",\r\n        error: \"\",\r\n        errorState: false,\r\n        redirect: false\r\n    }\r\n\r\n    handleChange = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n            errorState: false\r\n        })\r\n    }\r\n\r\n    isValid = () => {\r\n        const { text } = this.state;\r\n        if(!text.length > 0 || text.length > 150 ) {\r\n            this.setState({error: \"Comment must not be empty or less thatn 150 characters long...\", errorState: true})\r\n            return false\r\n        } \r\n        return true\r\n    }\r\n\r\n    // isUserAuth = () => { return <Redirect to={`/signin`} /> }\r\n    // isUserAuth = () => alert('ran')\r\n    \r\n    renderError = () => <div style={{padding: \"3rem\"}} className=\"grey-text amber lighten-5\">{this.state.error}</div>\r\n\r\n    addComment = e => {\r\n        e.preventDefault()\r\n        if(isAuthenticated() && isAuthenticated().user) {\r\n\r\n            const userId = isAuthenticated().user._id\r\n            const token = isAuthenticated().token\r\n            const postId = this.props.postId\r\n\r\n            if(this.isValid()) {\r\n\r\n                const commentBody = {text: this.state.text}\r\n                comment(userId, token, postId, {text: this.state.text})\r\n                .then(data => {\r\n                    if(data.error) {\r\n                        console.warn(data.error)\r\n                    } else {\r\n                        this.setState({\r\n                            text: \"\"\r\n                        })\r\n                        console.warn(this.state)\r\n                        this.props.updateComments(data.comments)\r\n                    }\r\n                })\r\n            }\r\n        } else {\r\n            this.setState({ redirect: true})\r\n        }\r\n    }\r\n\r\n    handleUncomment = comment => {\r\n        const userId = isAuthenticated().user._id\r\n        const token = isAuthenticated().token\r\n        const postId = this.props.postId\r\n\r\n        uncomment(userId, token, postId, comment)\r\n            .then(data => {\r\n                if(data.error) {\r\n                    console.warn(data.error)\r\n                } \r\n                this.props.updateComments(data.comments)\r\n            })\r\n            .catch(err => console.warn(err))\r\n    }\r\n        \r\n        render() {\r\n        console.warn(this.props)\r\n        // alert(this.props.comments)\r\n        if(this.state.redirect) {\r\n            return <Redirect to=\"/\" />\r\n        }\r\n\r\n\r\n        // this.state.error ? (`<div className=\"amber-text\">${this.state.error}</div>`)  : null\r\n        \r\n        return (\r\n            <>\r\n            <div className=\"row\">\r\n                    {/* this.isUserAuth() */}\r\n            <div className=\"col s12\">\r\n            <div className=\"card white\">\r\n                <div className=\"card-content white-text\">\r\n                    {this.props.comments ? (<span className=\"grey-text right\">{this.props.comments.length} Comments</span>) : <span>0 Comments</span>} \r\n                \r\n                    <span className=\"card-title amber-text\">Comments Section</span>\r\n                    { this.state.errorState ? this.renderError()  : null }\r\n                    <form onSubmit={this.addComment} >\r\n                        <input placeholder=\"Add Comment\" type=\"text\" name=\"text\" onChange={this.handleChange} value={this.state.text}/>\r\n                        <input type=\"submit\" className=\"btn amber z-depth-0\"  value=\"post comment\" />\r\n                    </form>\r\n                </div>\r\n                    {\r\n              this.props.comments \r\n              ?\r\n              (\r\n                this.props.comments.map((comment, key) => {\r\n                  return (\r\n                      <div className=\"card background-light-karo-comment  z-depth-0 grey lighten-5\" key={key} style={{marginBottom: \"1rem\", padding: \"1rem\"}}>\r\n                        <div className=\"\" style={{\"paddingLeft\": \"1.5rem\"}}>\r\n                            {\r\n                                comment.postedBy \r\n                                ?\r\n                                (\r\n                                    <>\r\n                                    <Link to={`/user/${comment.postedBy._id}`}>\r\n                                        <img style={{ borderRadius: \"50%\"}} className=\"responsive-img \" width=\"40\"  onError={i => i.target.src = `${defaultProfile}`}  src={`${process.env.REACT_APP_API_URL}/user/photo/${comment.postedBy._id}`} alt=\"\" />\r\n                                    </Link>\r\n                                    {/* <span style={{\"paddingLeft\": \"1rem\"}} className=\"title amber-text right z-depth-0  btn grey lighten-4\">{comment.postedBy.name}</span> */}\r\n\r\n                                    </>\r\n                                )\r\n                                :\r\n                                null\r\n                            }\r\n                            \r\n                            {/* <span href=\"\" className=\"secondary-content  btn-floating  z-depth-0\" > */}\r\n                            {/* <i className=\"material-icons grey lighten-3 amber-text text-darken-2  \">visibility</i> */}\r\n                            <div style={{cursor: \"default\"}} className=\"chip upar-karo\">\r\n                                <span className=\"\">{comment.text}</span>\r\n                            </div><br/>\r\n\r\n                            {\r\n                                isAuthenticated().user && isAuthenticated().user._id === comment.postedBy._id ?\r\n                                    <div style={{marginBottom: \"1rem\"}}>\r\n                                    <button className=\"btn btn-floating amber lighten-3 right z-depth-0\" onClick={() => this.handleUncomment(comment)}><span><i className=\"material-icons\">close</i></span></button>\r\n\r\n                                    </div>\r\n                                    :\r\n                                    null\r\n                            }\r\n                            <span style={{\"fontSize\": \"0.7rem\"}}  className=\"  grey-text\">{`${new Date(comment.created).toDateString()}`}</span>\r\n                            {/* <span style={{\"fontSize\": \"0.7rem\"}}  className=\"  grey-text\"><DeleteComment /></span> */}\r\n                            {/* </span> */}\r\n                        </div> \r\n                        </div>\r\n                  )\r\n                })\r\n              )\r\n              :\r\n              (\r\n                <>\r\n                <div className=\"red-text\">Loading............</div>\r\n                </>\r\n              )\r\n            }\r\n            </div>\r\n                </div>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default CommentComponent","import React, {Component} from 'react'\r\nimport { readSinglePost, like, unlike } from './apiPost'\r\nimport umbrella from '../../images/umbrella.jpg';\r\nimport noImage from '../../images/noImage.jpg'\r\nimport DeletePostComponent from './DeletePost'\r\nimport { isAuthenticated }  from '../../auth'\r\n\r\nimport CommentComponent from './Comment'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport defaultProfile from '../../images/defaultProfile.png';\r\n\r\n\r\n\r\nclass PostDetailsComponent extends Component {\r\n\r\n    // constructor() {\r\n        // super()\r\n        state = {\r\n            post: \"\",\r\n            error: \"\",\r\n            like: false,\r\n            likes: 0,\r\n            redirect: false,\r\n            toast: false,\r\n            comments: []\r\n        }\r\n    // }\r\n\r\n    checkLike = (likesArray) => {\r\n        const userId = isAuthenticated() && isAuthenticated().user._id\r\n        let match = likesArray.indexOf(userId) !== -1 \r\n        return match\r\n    }\r\n\r\n    // init = (postId) => {\r\n    //     readSinglePost(postId)\r\n    //     .then(data => {\r\n    //       if(data.error) {\r\n    //         this.setState({\r\n    //             redirect: true,\r\n    //             error: data.error\r\n    //         })\r\n    //       } else {\r\n    //         this.setState({\r\n    //             post: data,\r\n    //             likes: data.likes.length,\r\n    //             like: this.checkLike(data.likes),\r\n    //             comments: data.comments\r\n    //         })\r\n    //       }\r\n    //     })\r\n    //   }\r\n\r\n      componentDidMount() {\r\n        const postId = this.props.match.params.postId\r\n        // this.init(postId)\r\n        readSinglePost(postId)\r\n        .then(data => {\r\n          if(data.error) {\r\n            this.setState({\r\n                redirect: true,\r\n                error: data.error\r\n            })\r\n          } else {\r\n            this.setState({\r\n                post: data,\r\n                likes: data.likes.length,\r\n                like: this.checkLike(data.likes),\r\n                comments: data.comments\r\n            })\r\n          }\r\n        })\r\n      }\r\n\r\n      updateComments = comments => {\r\n          console.log(comments)\r\n          console.log(this)\r\n           this.setState({ comments })\r\n      }\r\n\r\n      componentWillReceiveProps(nextProps) {\r\n        // const newComments = nextProps.match.params.userId\r\n        console.warn(nextProps)\r\n        \r\n      }\r\n\r\n      likeToggle = () => {\r\n\r\n        if(!isAuthenticated()) {\r\n            this.setState({\r\n                redirect: true\r\n            })\r\n            // window.M.toast({html: 'Please Sign In', displayLength: 4000})\r\n            \r\n            return false\r\n        }\r\n          let apiCall = this.state.like ? unlike: like\r\n          const userId = isAuthenticated().user._id\r\n          const postId = this.state.post._id\r\n          const token = isAuthenticated().token\r\n\r\n          apiCall(userId, token, postId)\r\n            .then(data => {\r\n                if(data.error) {\r\n                    console.warn(data.error)\r\n                } else {\r\n                    this.setState({\r\n                        like: !this.state.like,\r\n                        likes: data.likes.length\r\n                    })\r\n                    this.state.like ? window.M.toast({html: 'Post Liked', displayLength: 4000}) : window.M.toast({html: `Post Disliked`, displayLength: 4000})\r\n                }\r\n            })\r\n      }\r\n    \r\n\r\n    render(){\r\n\r\n        if(this.state.redirect) {\r\n            return <Redirect to={`/signin`}></Redirect>\r\n        }\r\n        const {post} = this.state\r\n        let photoUrl \r\n        let userId\r\n        let userName\r\n        let likes\r\n        let comments\r\n        if(this.state.post) {\r\n            if(this.state.post.postedBy) {\r\n                // photoUrl = this.state.post.postedBy  ? `${process.env.REACT_APP_API_URL}/user/photo/${post.postedBy._id}}?${new Date().getTime()}` : defaultProfile\r\n                photoUrl = `${process.env.REACT_APP_API_URL}/user/photo/${post.postedBy._id}?${new Date().getTime()}`\r\n                userId = this.state.post.postedBy._id\r\n                userName = this.state.post.postedBy.name\r\n                likes = this.state.post.likes\r\n                comments = this.state.comments\r\n\r\n            } else {\r\n                photoUrl = defaultProfile\r\n            }\r\n        }\r\n        console.warn(this.state)\r\n        return (\r\n            <div className=\"container\">\r\n            <br/><br/>\r\n            <div className=\"\"  key={post._id}>\r\n                    <div className=\"card horizontal\">\r\n                        <div className=\"card-image\">\r\n                            <img  src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`} onError={i => i.target.src = `${noImage}`}  />\r\n                        </div>\r\n                        <div className=\"card-stacked\">\r\n                            <div className=\"card-content\">\r\n                                <Link to={`/user/${userId}`}>\r\n                                    <img className=\"responsive-img right circle left userListPhoto\" onError={i => i.target.src = `${noImage}`} width=\"35\" src={photoUrl} alt=\"\"/>\r\n                        <span className=\"grey-text left\">Posted By: <span className=\"amber-text\">{userName}</span></span><br/>\r\n                        <span className=\"grey-text left\">{`Created on`} <span className=\"amber-text\">{new Date(post.created).toDateString()}</span></span>\r\n                                </Link>\r\n                            <h3 className=\"amber-text\">{post.title}</h3>\r\n                                <p className=\"grey-text \">{post.body}</p>\r\n                                <br/><br/>\r\n                                <div className=\"divider\"></div>\r\n                                <br/><br/>\r\n                                <div className=\"chip left\" onClick={this.likeToggle}>\r\n                                    {\r\n                                        !this.state.like\r\n                                        ?\r\n                                        (<i className=\"amber-text \" style={{paddingTop: \"0.3rem\"}} className=\"material-icons\">thumb_up</i>)\r\n                                        :\r\n                                        (<i className=\"\" style={{paddingTop: \"0.3rem\"}} className=\"material-icons amber-text \">thumb_up</i>)\r\n                                    }\r\n                                \r\n                                {likes ?  <span style={{paddingLeft: \"1rem\"}} className=\"right\">{this.state.likes}</span>: null}\r\n                                </div> \r\n                                {\r\n                                    isAuthenticated().user && isAuthenticated().user._id === userId\r\n                                    ?\r\n                                    (\r\n                                        <div>\r\n                                            <DeletePostComponent postId={post._id} />\r\n                                            <Link to={`/post/edit/${post._id}`}>\r\n                                                <div className=\"chip hoverColor right\">\r\n                                                    <span href=\"#\" className=\"amber-text text-darken-2 \"> Edit</span>\r\n                                                    <i className=\"material-icons  amber-text tiny right foo\">edit</i>\r\n                                                </div>\r\n                                            </Link>\r\n                                        </div>\r\n                                    )\r\n                                    :\r\n                                    (\r\n                                        null\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        </div> \r\n                        <CommentComponent \r\n                            postId={post._id} \r\n                            comments={comments && comments.reverse()} \r\n                            updateComments={this.updateComments} \r\n                        />\r\n                    </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default PostDetailsComponent","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { update, read, updatePost }  from './apiPost'\r\nimport { isAuthenticated } from '../../auth'\r\n\r\nimport defaultProfile from '../../images/defaultProfile.png'\r\n\r\nclass EditPostFormComponent extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            id: \"\",\r\n            title: \"\",\r\n            body: \"\",\r\n            error: \"\",\r\n            redirect: false,\r\n            open: false,\r\n            loading: false,\r\n            fileSize: 0\r\n        }\r\n  }\r\n  \r\n  componentDidMount() {\r\n    console.warn(this.props)\r\n    this.postData = new FormData()\r\n    this.postId = this.props.match.params.postId\r\n    console.warn(this.props)\r\n    read(this.postId, isAuthenticated().token)\r\n        .then(data => {\r\n            if(data.error) {\r\n                this.setState({\r\n                    error: data.error\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    id: data._id,\r\n                    title: data.title,\r\n                    body: data.body\r\n                })\r\n            }\r\n        })\r\n\r\n  }\r\n\r\n  // componentWillReceiveProps(props) {\r\n  //   console.warn(props)\r\n  //   this.setState({\r\n  //     name: props.name,\r\n  //     email: props.email\r\n  //   })\r\n  // }\r\n\r\n  init = postId => {\r\n    const token = isAuthenticated().token\r\n    read(postId, token)\r\n    .then(data => this.setState({redirect: true}))\r\n  }\r\n\r\n\r\n  handleChange = name => event => {\r\n    this.setState({error: \"\"})\r\n    const value = name === 'photo' ? event.target.files[0] : event.target.value\r\n    const fileSize = name === 'photo' ? event.target.files[0].size : 0\r\n    this.postData.set(name, value)\r\n    this.setState({\r\n      [name]: value,\r\n      fileSize: fileSize\r\n    })\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    this.setState({\r\n      loading: true,\r\n      error: \"\"\r\n    })\r\n    e.preventDefault()  \r\n    const {title, body} = this.state\r\n    const post = {title: title, body: body}\r\n    // console.warn(user)\r\n    console.warn(this.postData)\r\n    \r\n\r\n    update(this.postId, isAuthenticated().token, this.postData)\r\n      .then(data => {\r\n        if(data.error) {\r\n          this.setState({\r\n            error: data.error\r\n          })\r\n          console.warn(this.state.error)\r\n        } else {\r\n          this.setState({\r\n            loading: true\r\n          })\r\n            // setTimeout(() => {\r\n              this.setState({\r\n                id: \"\",\r\n                title: \"\",\r\n                body: \"\",\r\n                loading: true,\r\n                open: true,\r\n                redirect: true\r\n              })\r\n              if(this.state.open) {\r\n                window.M.toast({html: 'Post Updated', displayLength: 4000})\r\n              }\r\n            // }, 2000);\r\n        }\r\n      }\r\n      )\r\n  }\r\n\r\n\r\n  render() {\r\n    const { loading } = this.state\r\n    console.warn(this.state)\r\n    if(this.state.redirect) {\r\n      return <Redirect to={`/post/${this.postId}`}></Redirect>\r\n    }\r\n\r\n    const photoUrl = this.state.id? `${process.env.REACT_APP_API_URL}/post/photo/${this.state.id}?${new Date().getTime()}` : defaultProfile\r\n    return (\r\n       <div>\r\n        <div className=\"row\">\r\n      {\r\n                loading ? (  <div className=\"progress loadingBar \"> \r\n            <div className=\"indeterminate \"></div>\r\n            </div>) : (\" \")\r\n      }\r\n          <div className=\"col s7\">\r\n          <div className=\"container\">\r\n            <br/><br/>\r\n                      {/* {this.state.error ?<div className=\"red-text\">{this.state.error}</div>: null} */}\r\n            <div className=\"card grey lighten-5 z-depth-0\">\r\n              <div className=\"container\">\r\n                <br/><br/>\r\n              <img src={photoUrl} className=\"responsive-img meriphoto\" width=\"\" alt={this.state.title}/>\r\n              </div>\r\n              <div className=\"card-content\">\r\n                <form onSubmit={this.handleSubmit} className=\"\">\r\n            <h4 className=\"amber-text\">Edit Post</h4>\r\n            <br/><br/>\r\n                  <div className=\"row\">\r\n   \r\n                    <input type=\"file\" className=\"\" onChange={this.handleChange(\"photo\")}  accept=\"image/*\" name=\"photo\" id=\"photo\"/>\r\n                    {this.state.fileSize > 100000 ? ( <div className=\"red-text\">File Size should be less than 100kb</div>) : null}\r\n                  </div>\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                      <div className=\"amber-text\">Post Title</div>\r\n                      <input onChange={this.handleChange(\"title\")}  value={this.state.title} name=\"title\" type=\"text\" id=\"title\" />\r\n                      {/* {this.state.email === \"\" && this.state.error ? (<div className=\"red-text\">{this.state.error}</div>) : null} */}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col s12\">\r\n                      <div className=\"amber-text\">Post Body</div>\r\n                      <textarea onChange={this.handleChange(\"body\")} value={this.state.body} id=\"body\" className=\"materialize-textarea\"></textarea>\r\n                    </div>\r\n                  </div>\r\n                  <input type=\"submit\" value=\"Update\" className=\"btn amber z-depth-0\" />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default EditPostFormComponent","import React, { Component } from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { isAuthenticated } from './index'\r\n\r\nconst PrivateRouteComponent = ({component: Component, ...rest}) => {\r\n    return (\r\n\r\n        <Route {...rest} render={props => isAuthenticated() ? (<Component {...props} />)\r\n          : \r\n              (<Redirect to={{pathname: \"/signin\", state: props.location}} />)\r\n          }\r\n          />\r\n    )\r\n}\r\n\r\n\r\nexport default PrivateRouteComponent","import React from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\n\r\nimport HomeComponent from '../components/Home'\r\nimport SignupComponent from '../components/user/Signup'\r\nimport SigninComponent from '../components/user/Signin'\r\nimport ProfileComponent from '../components/user/Profile'\r\nimport UsersComponent from '../components/user/Users'\r\nimport EditProfileFormComponent from '../components/user/EditProfileForm'\r\nimport NewPostFormComponent from '../components/post/NewPostForm';\r\nimport PostDetailsComponent from '../components/post/PostDetails'\r\nimport EditPostFormComponent from '../components/post/EditPostForm'\r\n\r\nimport PrivateRouteComponent from '../auth/PrivateRoute';\r\n\r\nconst MainRouterComponent = () => {\r\n    return (\r\n        <div>\r\n        <Switch>\r\n            <Route exact path=\"/\" component={HomeComponent} />\r\n            <Route path=\"/signup\" component={SignupComponent} />\r\n            <Route path=\"/signin\" component={SigninComponent} />\r\n            <PrivateRouteComponent exact path=\"/user/edit/:userId\" component={EditProfileFormComponent} />\r\n            <PrivateRouteComponent exact path=\"/user/:userId\" component={ProfileComponent} />\r\n            <PrivateRouteComponent exact path=\"/post/create\" component={NewPostFormComponent} />\r\n            <Route path=\"/users\" component={UsersComponent} />\r\n            <Route exact path=\"/post/:postId\" component={PostDetailsComponent} />\r\n            <PrivateRouteComponent exact path=\"/post/edit/:postId\" component={EditPostFormComponent} />\r\n        </Switch>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default MainRouterComponent","import React, { Component } from 'react';\nimport NavbarComponent from './components/Navbar' \n\n// import main from './main.css'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport MainRouterComponent from './routes/MainRouter'\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"\">\n        <Router>\n        <NavbarComponent />\n          <MainRouterComponent />\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport index from './index.css'\nimport main from './main.css'\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","module.exports = __webpack_public_path__ + \"static/media/defaultProfile.edced717.png\";"],"sourceRoot":""}